<!doctype html><html lang="de"><head><meta name="generator" content="Scully 0.0.0"><script async src="https://www.googletagmanager.com/gtag/js?id=G-HY3CPEEH1Z"></script><base href="/"><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><style>svg:not(:root).svg-inline--fa{overflow:visible}.svg-inline--fa{display:inline-block;font-size:inherit;height:1em;overflow:visible;vertical-align:-.125em}.svg-inline--fa.fa-lg{vertical-align:-.225em}.svg-inline--fa.fa-w-1{width:.0625em}.svg-inline--fa.fa-w-2{width:.125em}.svg-inline--fa.fa-w-3{width:.1875em}.svg-inline--fa.fa-w-4{width:.25em}.svg-inline--fa.fa-w-5{width:.3125em}.svg-inline--fa.fa-w-6{width:.375em}.svg-inline--fa.fa-w-7{width:.4375em}.svg-inline--fa.fa-w-8{width:.5em}.svg-inline--fa.fa-w-9{width:.5625em}.svg-inline--fa.fa-w-10{width:.625em}.svg-inline--fa.fa-w-11{width:.6875em}.svg-inline--fa.fa-w-12{width:.75em}.svg-inline--fa.fa-w-13{width:.8125em}.svg-inline--fa.fa-w-14{width:.875em}.svg-inline--fa.fa-w-15{width:.9375em}.svg-inline--fa.fa-w-16{width:1em}.svg-inline--fa.fa-w-17{width:1.0625em}.svg-inline--fa.fa-w-18{width:1.125em}.svg-inline--fa.fa-w-19{width:1.1875em}.svg-inline--fa.fa-w-20{width:1.25em}.svg-inline--fa.fa-pull-left{margin-right:.3em;width:auto}.svg-inline--fa.fa-pull-right{margin-left:.3em;width:auto}.svg-inline--fa.fa-border{height:1.5em}.svg-inline--fa.fa-li{width:2em}.svg-inline--fa.fa-fw{width:1.25em}.fa-layers svg.svg-inline--fa{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0}.fa-layers{display:inline-block;height:1em;position:relative;text-align:center;vertical-align:-.125em;width:1em}.fa-layers svg.svg-inline--fa{-webkit-transform-origin:center center;transform-origin:center center}.fa-layers-counter,.fa-layers-text{display:inline-block;position:absolute;text-align:center}.fa-layers-text{left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);-webkit-transform-origin:center center;transform-origin:center center}.fa-layers-counter{background-color:#ff253a;border-radius:1em;-webkit-box-sizing:border-box;box-sizing:border-box;color:#fff;height:1.5em;line-height:1;max-width:5em;min-width:1.5em;overflow:hidden;padding:.25em;right:0;text-overflow:ellipsis;top:0;-webkit-transform:scale(.25);transform:scale(.25);-webkit-transform-origin:top right;transform-origin:top right}.fa-layers-bottom-right{bottom:0;right:0;top:auto;-webkit-transform:scale(.25);transform:scale(.25);-webkit-transform-origin:bottom right;transform-origin:bottom right}.fa-layers-bottom-left{bottom:0;left:0;right:auto;top:auto;-webkit-transform:scale(.25);transform:scale(.25);-webkit-transform-origin:bottom left;transform-origin:bottom left}.fa-layers-top-right{right:0;top:0;-webkit-transform:scale(.25);transform:scale(.25);-webkit-transform-origin:top right;transform-origin:top right}.fa-layers-top-left{left:0;right:auto;top:0;-webkit-transform:scale(.25);transform:scale(.25);-webkit-transform-origin:top left;transform-origin:top left}.fa-lg{font-size:1.3333333333em;line-height:.75em;vertical-align:-.0667em}.fa-xs{font-size:.75em}.fa-sm{font-size:.875em}.fa-1x{font-size:1em}.fa-2x{font-size:2em}.fa-3x{font-size:3em}.fa-4x{font-size:4em}.fa-5x{font-size:5em}.fa-6x{font-size:6em}.fa-7x{font-size:7em}.fa-8x{font-size:8em}.fa-9x{font-size:9em}.fa-10x{font-size:10em}.fa-fw{text-align:center;width:1.25em}.fa-ul{list-style-type:none;margin-left:2.5em;padding-left:0}.fa-ul>li{position:relative}.fa-li{left:-2em;position:absolute;text-align:center;width:2em;line-height:inherit}.fa-border{border:solid .08em #eee;border-radius:.1em;padding:.2em .25em .15em}.fa-pull-left{float:left}.fa-pull-right{float:right}.fa.fa-pull-left,.fab.fa-pull-left,.fal.fa-pull-left,.far.fa-pull-left,.fas.fa-pull-left{margin-right:.3em}.fa.fa-pull-right,.fab.fa-pull-right,.fal.fa-pull-right,.far.fa-pull-right,.fas.fa-pull-right{margin-left:.3em}.fa-spin{-webkit-animation:fa-spin 2s infinite linear;animation:fa-spin 2s infinite linear}.fa-pulse{-webkit-animation:fa-spin 1s infinite steps(8);animation:fa-spin 1s infinite steps(8)}@-webkit-keyframes fa-spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes fa-spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.fa-rotate-90{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.fa-rotate-180{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.fa-rotate-270{-webkit-transform:rotate(270deg);transform:rotate(270deg)}.fa-flip-horizontal{-webkit-transform:scale(-1,1);transform:scale(-1,1)}.fa-flip-vertical{-webkit-transform:scale(1,-1);transform:scale(1,-1)}.fa-flip-both,.fa-flip-horizontal.fa-flip-vertical{-webkit-transform:scale(-1,-1);transform:scale(-1,-1)}:root .fa-flip-both,:root .fa-flip-horizontal,:root .fa-flip-vertical,:root .fa-rotate-180,:root .fa-rotate-270,:root .fa-rotate-90{-webkit-filter:none;filter:none}.fa-stack{display:inline-block;height:2em;position:relative;width:2.5em}.fa-stack-1x,.fa-stack-2x{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0}.svg-inline--fa.fa-stack-1x{height:1em;width:1.25em}.svg-inline--fa.fa-stack-2x{height:2em;width:2.5em}.fa-inverse{color:#fff}.sr-only{border:0;clip:rect(0,0,0,0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.sr-only-focusable:active,.sr-only-focusable:focus{clip:auto;height:auto;margin:0;overflow:visible;position:static;width:auto}.svg-inline--fa .fa-primary{fill:var(--fa-primary-color,currentColor);opacity:1;opacity:var(--fa-primary-opacity,1)}.svg-inline--fa .fa-secondary{fill:var(--fa-secondary-color,currentColor);opacity:.4;opacity:var(--fa-secondary-opacity,.4)}.svg-inline--fa.fa-swap-opacity .fa-primary{opacity:.4;opacity:var(--fa-secondary-opacity,.4)}.svg-inline--fa.fa-swap-opacity .fa-secondary{opacity:1;opacity:var(--fa-primary-opacity,1)}.svg-inline--fa mask .fa-primary,.svg-inline--fa mask .fa-secondary{fill:#000}.fad.fa-inverse{color:#fff}</style><link rel="icon" type="image/x-icon" href="assets/images/favicon.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><link rel="apple-touch-icon" href="assets/icons/icon-512x512.png"><link href="assets/icons/iphone5_splash.png" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image"><link href="assets/icons/iphone6_splash.png" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image"><link href="assets/icons/iphoneplus_splash.png" media="(device-width: 621px) and (device-height: 1104px) and (-webkit-device-pixel-ratio: 3)" rel="apple-touch-startup-image"><link href="assets/icons/iphonex_splash.png" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3)" rel="apple-touch-startup-image"><link href="assets/icons/iphonexr_splash.png" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image"><link href="assets/icons/iphonexsmax_splash.png" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3)" rel="apple-touch-startup-image"><link href="assets/icons/ipad_splash.png" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image"><link href="assets/icons/ipadpro1_splash.png" media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image"><link href="assets/icons/ipadpro3_splash.png" media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image"><link href="assets/icons/ipadpro2_splash.png" media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image"><title>k9n.dev | Speed up your Angular schematics development with useful helper functions</title><meta name="robots" content="index, follow"><meta name="author" content="Danny Koppenhagen"><meta property="profile:first_name" content="Danny"><meta property="profile:last_name" content="Koppenhagen"><link rel="manifest" href="manifest.webmanifest"><meta name="theme-color" content="#e7e7e7"><style>@charset "UTF-8";@import url(https://fonts.googleapis.com/css?family=Montserrat:800&display=swap);@import url(https://fonts.googleapis.com/css?family=Raleway:200,700|Source+Sans+Pro:300,600,300italic,600italic&display=swap);:root{--animate-duration:1s;--animate-delay:1s;--animate-repeat:1}@-webkit-keyframes bounce{0%,20%,53%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1);transform:translateZ(0)}40%,43%{-webkit-animation-timing-function:cubic-bezier(.755,.05,.855,.06);animation-timing-function:cubic-bezier(.755,.05,.855,.06);transform:translate3d(0,-30px,0) scaleY(1.1)}70%{-webkit-animation-timing-function:cubic-bezier(.755,.05,.855,.06);animation-timing-function:cubic-bezier(.755,.05,.855,.06);transform:translate3d(0,-15px,0) scaleY(1.05)}80%{transition-timing-function:cubic-bezier(.215,.61,.355,1);transform:translateZ(0) scaleY(.95)}90%{transform:translate3d(0,-4px,0) scaleY(1.02)}}@-webkit-keyframes flash{0%,50%,to{opacity:1}25%,75%{opacity:0}}@-webkit-keyframes pulse{0%{transform:scaleZ(1)}50%{transform:scale3d(1.05,1.05,1.05)}to{transform:scaleZ(1)}}@-webkit-keyframes rubberBand{0%{transform:scaleZ(1)}30%{transform:scale3d(1.25,.75,1)}40%{transform:scale3d(.75,1.25,1)}50%{transform:scale3d(1.15,.85,1)}65%{transform:scale3d(.95,1.05,1)}75%{transform:scale3d(1.05,.95,1)}to{transform:scaleZ(1)}}@-webkit-keyframes shakeX{0%,to{transform:translateZ(0)}10%,30%,50%,70%,90%{transform:translate3d(-10px,0,0)}20%,40%,60%,80%{transform:translate3d(10px,0,0)}}@-webkit-keyframes shakeY{0%,to{transform:translateZ(0)}10%,30%,50%,70%,90%{transform:translate3d(0,-10px,0)}20%,40%,60%,80%{transform:translate3d(0,10px,0)}}@-webkit-keyframes headShake{0%{transform:translate(0)}6.5%{transform:translate(-6px) rotateY(-9deg)}18.5%{transform:translate(5px) rotateY(7deg)}31.5%{transform:translate(-3px) rotateY(-5deg)}43.5%{transform:translate(2px) rotateY(3deg)}50%{transform:translate(0)}}@-webkit-keyframes swing{20%{transform:rotate3d(0,0,1,15deg)}40%{transform:rotate3d(0,0,1,-10deg)}60%{transform:rotate3d(0,0,1,5deg)}80%{transform:rotate3d(0,0,1,-5deg)}to{transform:rotate3d(0,0,1,0)}}@-webkit-keyframes tada{0%{transform:scaleZ(1)}10%,20%{transform:scale3d(.9,.9,.9) rotate3d(0,0,1,-3deg)}30%,50%,70%,90%{transform:scale3d(1.1,1.1,1.1) rotate3d(0,0,1,3deg)}40%,60%,80%{transform:scale3d(1.1,1.1,1.1) rotate3d(0,0,1,-3deg)}to{transform:scaleZ(1)}}@-webkit-keyframes wobble{0%{transform:translateZ(0)}15%{transform:translate3d(-25%,0,0) rotate3d(0,0,1,-5deg)}30%{transform:translate3d(20%,0,0) rotate3d(0,0,1,3deg)}45%{transform:translate3d(-15%,0,0) rotate3d(0,0,1,-3deg)}60%{transform:translate3d(10%,0,0) rotate3d(0,0,1,2deg)}75%{transform:translate3d(-5%,0,0) rotate3d(0,0,1,-1deg)}to{transform:translateZ(0)}}@-webkit-keyframes jello{0%,11.1%,to{transform:translateZ(0)}22.2%{transform:skew(-12.5deg) skewY(-12.5deg)}33.3%{transform:skew(6.25deg) skewY(6.25deg)}44.4%{transform:skew(-3.125deg) skewY(-3.125deg)}55.5%{transform:skew(1.5625deg) skewY(1.5625deg)}66.6%{transform:skew(-.78125deg) skewY(-.78125deg)}77.7%{transform:skew(.390625deg) skewY(.390625deg)}88.8%{transform:skew(-.1953125deg) skewY(-.1953125deg)}}@-webkit-keyframes heartBeat{0%{transform:scale(1)}14%{transform:scale(1.3)}28%{transform:scale(1)}42%{transform:scale(1.3)}70%{transform:scale(1)}}@-webkit-keyframes backInDown{0%{transform:translateY(-1200px) scale(.7);opacity:.7}80%{transform:translateY(0) scale(.7);opacity:.7}to{transform:scale(1);opacity:1}}@-webkit-keyframes backInLeft{0%{transform:translate(-2000px) scale(.7);opacity:.7}80%{transform:translate(0) scale(.7);opacity:.7}to{transform:scale(1);opacity:1}}@-webkit-keyframes backInRight{0%{transform:translate(2000px) scale(.7);opacity:.7}80%{transform:translate(0) scale(.7);opacity:.7}to{transform:scale(1);opacity:1}}@-webkit-keyframes backInUp{0%{transform:translateY(1200px) scale(.7);opacity:.7}80%{transform:translateY(0) scale(.7);opacity:.7}to{transform:scale(1);opacity:1}}@-webkit-keyframes backOutDown{0%{transform:scale(1);opacity:1}20%{transform:translateY(0) scale(.7);opacity:.7}to{transform:translateY(700px) scale(.7);opacity:.7}}@-webkit-keyframes backOutLeft{0%{transform:scale(1);opacity:1}20%{transform:translate(0) scale(.7);opacity:.7}to{transform:translate(-2000px) scale(.7);opacity:.7}}@-webkit-keyframes backOutRight{0%{transform:scale(1);opacity:1}20%{transform:translate(0) scale(.7);opacity:.7}to{transform:translate(2000px) scale(.7);opacity:.7}}@-webkit-keyframes backOutUp{0%{transform:scale(1);opacity:1}20%{transform:translateY(0) scale(.7);opacity:.7}to{transform:translateY(-700px) scale(.7);opacity:.7}}@-webkit-keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:scale3d(.3,.3,.3)}20%{transform:scale3d(1.1,1.1,1.1)}40%{transform:scale3d(.9,.9,.9)}60%{opacity:1;transform:scale3d(1.03,1.03,1.03)}80%{transform:scale3d(.97,.97,.97)}to{opacity:1;transform:scaleZ(1)}}@-webkit-keyframes bounceInDown{0%,60%,75%,90%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0) scaleY(3)}60%{opacity:1;transform:translate3d(0,25px,0) scaleY(.9)}75%{transform:translate3d(0,-10px,0) scaleY(.95)}90%{transform:translate3d(0,5px,0) scaleY(.985)}to{transform:translateZ(0)}}@-webkit-keyframes bounceInLeft{0%,60%,75%,90%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0) scaleX(3)}60%{opacity:1;transform:translate3d(25px,0,0) scaleX(1)}75%{transform:translate3d(-10px,0,0) scaleX(.98)}90%{transform:translate3d(5px,0,0) scaleX(.995)}to{transform:translateZ(0)}}@-webkit-keyframes bounceInRight{0%,60%,75%,90%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0) scaleX(3)}60%{opacity:1;transform:translate3d(-25px,0,0) scaleX(1)}75%{transform:translate3d(10px,0,0) scaleX(.98)}90%{transform:translate3d(-5px,0,0) scaleX(.995)}to{transform:translateZ(0)}}@-webkit-keyframes bounceInUp{0%,60%,75%,90%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0) scaleY(5)}60%{opacity:1;transform:translate3d(0,-20px,0) scaleY(.9)}75%{transform:translate3d(0,10px,0) scaleY(.95)}90%{transform:translate3d(0,-5px,0) scaleY(.985)}to{transform:translateZ(0)}}@-webkit-keyframes bounceOut{20%{transform:scale3d(.9,.9,.9)}50%,55%{opacity:1;transform:scale3d(1.1,1.1,1.1)}to{opacity:0;transform:scale3d(.3,.3,.3)}}@-webkit-keyframes bounceOutDown{20%{transform:translate3d(0,10px,0) scaleY(.985)}40%,45%{opacity:1;transform:translate3d(0,-20px,0) scaleY(.9)}to{opacity:0;transform:translate3d(0,2000px,0) scaleY(3)}}@-webkit-keyframes bounceOutLeft{20%{opacity:1;transform:translate3d(20px,0,0) scaleX(.9)}to{opacity:0;transform:translate3d(-2000px,0,0) scaleX(2)}}@-webkit-keyframes bounceOutRight{20%{opacity:1;transform:translate3d(-20px,0,0) scaleX(.9)}to{opacity:0;transform:translate3d(2000px,0,0) scaleX(2)}}@-webkit-keyframes bounceOutUp{20%{transform:translate3d(0,-10px,0) scaleY(.985)}40%,45%{opacity:1;transform:translate3d(0,20px,0) scaleY(.9)}to{opacity:0;transform:translate3d(0,-2000px,0) scaleY(3)}}@-webkit-keyframes fadeIn{0%{opacity:0}to{opacity:1}}@-webkit-keyframes fadeInDown{0%{opacity:0;transform:translate3d(0,-100%,0)}to{opacity:1;transform:translateZ(0)}}@-webkit-keyframes fadeInDownBig{0%{opacity:0;transform:translate3d(0,-2000px,0)}to{opacity:1;transform:translateZ(0)}}@-webkit-keyframes fadeInLeft{0%{opacity:0;transform:translate3d(-100%,0,0)}to{opacity:1;transform:translateZ(0)}}@-webkit-keyframes fadeInLeftBig{0%{opacity:0;transform:translate3d(-2000px,0,0)}to{opacity:1;transform:translateZ(0)}}@-webkit-keyframes fadeInRight{0%{opacity:0;transform:translate3d(100%,0,0)}to{opacity:1;transform:translateZ(0)}}@-webkit-keyframes fadeInRightBig{0%{opacity:0;transform:translate3d(2000px,0,0)}to{opacity:1;transform:translateZ(0)}}@-webkit-keyframes fadeInUp{0%{opacity:0;transform:translate3d(0,100%,0)}to{opacity:1;transform:translateZ(0)}}@-webkit-keyframes fadeInUpBig{0%{opacity:0;transform:translate3d(0,2000px,0)}to{opacity:1;transform:translateZ(0)}}@-webkit-keyframes fadeInTopLeft{0%{opacity:0;transform:translate3d(-100%,-100%,0)}to{opacity:1;transform:translateZ(0)}}@-webkit-keyframes fadeInTopRight{0%{opacity:0;transform:translate3d(100%,-100%,0)}to{opacity:1;transform:translateZ(0)}}@-webkit-keyframes fadeInBottomLeft{0%{opacity:0;transform:translate3d(-100%,100%,0)}to{opacity:1;transform:translateZ(0)}}@-webkit-keyframes fadeInBottomRight{0%{opacity:0;transform:translate3d(100%,100%,0)}to{opacity:1;transform:translateZ(0)}}@-webkit-keyframes fadeOut{0%{opacity:1}to{opacity:0}}@-webkit-keyframes fadeOutDown{0%{opacity:1}to{opacity:0;transform:translate3d(0,100%,0)}}@-webkit-keyframes fadeOutDownBig{0%{opacity:1}to{opacity:0;transform:translate3d(0,2000px,0)}}@-webkit-keyframes fadeOutLeft{0%{opacity:1}to{opacity:0;transform:translate3d(-100%,0,0)}}@-webkit-keyframes fadeOutLeftBig{0%{opacity:1}to{opacity:0;transform:translate3d(-2000px,0,0)}}@-webkit-keyframes fadeOutRight{0%{opacity:1}to{opacity:0;transform:translate3d(100%,0,0)}}@-webkit-keyframes fadeOutRightBig{0%{opacity:1}to{opacity:0;transform:translate3d(2000px,0,0)}}@-webkit-keyframes fadeOutUp{0%{opacity:1}to{opacity:0;transform:translate3d(0,-100%,0)}}@-webkit-keyframes fadeOutUpBig{0%{opacity:1}to{opacity:0;transform:translate3d(0,-2000px,0)}}@-webkit-keyframes fadeOutTopLeft{0%{opacity:1;transform:translateZ(0)}to{opacity:0;transform:translate3d(-100%,-100%,0)}}@-webkit-keyframes fadeOutTopRight{0%{opacity:1;transform:translateZ(0)}to{opacity:0;transform:translate3d(100%,-100%,0)}}@-webkit-keyframes fadeOutBottomRight{0%{opacity:1;transform:translateZ(0)}to{opacity:0;transform:translate3d(100%,100%,0)}}@-webkit-keyframes fadeOutBottomLeft{0%{opacity:1;transform:translateZ(0)}to{opacity:0;transform:translate3d(-100%,100%,0)}}@-webkit-keyframes flip{0%{transform:perspective(400px) scaleZ(1) translateZ(0) rotateY(-360deg);-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}40%{transform:perspective(400px) scaleZ(1) translateZ(150px) rotateY(-190deg);-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}50%{transform:perspective(400px) scaleZ(1) translateZ(150px) rotateY(-170deg);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}80%{transform:perspective(400px) scale3d(.95,.95,.95) translateZ(0) rotateY(0);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}to{transform:perspective(400px) scaleZ(1) translateZ(0) rotateY(0);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}}@-webkit-keyframes flipInX{0%{transform:perspective(400px) rotateX(90deg);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@-webkit-keyframes flipInY{0%{transform:perspective(400px) rotateY(90deg);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateY(-20deg);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}60%{transform:perspective(400px) rotateY(10deg);opacity:1}80%{transform:perspective(400px) rotateY(-5deg)}to{transform:perspective(400px)}}@-webkit-keyframes flipOutX{0%{transform:perspective(400px)}30%{transform:perspective(400px) rotateX(-20deg);opacity:1}to{transform:perspective(400px) rotateX(90deg);opacity:0}}@-webkit-keyframes flipOutY{0%{transform:perspective(400px)}30%{transform:perspective(400px) rotateY(-15deg);opacity:1}to{transform:perspective(400px) rotateY(90deg);opacity:0}}@-webkit-keyframes lightSpeedInRight{0%{transform:translate3d(100%,0,0) skew(-30deg);opacity:0}60%{transform:skew(20deg);opacity:1}80%{transform:skew(-5deg)}to{transform:translateZ(0)}}@-webkit-keyframes lightSpeedInLeft{0%{transform:translate3d(-100%,0,0) skew(30deg);opacity:0}60%{transform:skew(-20deg);opacity:1}80%{transform:skew(5deg)}to{transform:translateZ(0)}}@-webkit-keyframes lightSpeedOutRight{0%{opacity:1}to{transform:translate3d(100%,0,0) skew(30deg);opacity:0}}@-webkit-keyframes lightSpeedOutLeft{0%{opacity:1}to{transform:translate3d(-100%,0,0) skew(-30deg);opacity:0}}@-webkit-keyframes rotateIn{0%{transform:rotate3d(0,0,1,-200deg);opacity:0}to{transform:translateZ(0);opacity:1}}@-webkit-keyframes rotateInDownLeft{0%{transform:rotate3d(0,0,1,-45deg);opacity:0}to{transform:translateZ(0);opacity:1}}@-webkit-keyframes rotateInDownRight{0%{transform:rotate3d(0,0,1,45deg);opacity:0}to{transform:translateZ(0);opacity:1}}@-webkit-keyframes rotateInUpLeft{0%{transform:rotate3d(0,0,1,45deg);opacity:0}to{transform:translateZ(0);opacity:1}}@-webkit-keyframes rotateInUpRight{0%{transform:rotate3d(0,0,1,-90deg);opacity:0}to{transform:translateZ(0);opacity:1}}@-webkit-keyframes rotateOut{0%{opacity:1}to{transform:rotate3d(0,0,1,200deg);opacity:0}}@-webkit-keyframes rotateOutDownLeft{0%{opacity:1}to{transform:rotate3d(0,0,1,45deg);opacity:0}}@-webkit-keyframes rotateOutDownRight{0%{opacity:1}to{transform:rotate3d(0,0,1,-45deg);opacity:0}}@-webkit-keyframes rotateOutUpLeft{0%{opacity:1}to{transform:rotate3d(0,0,1,-45deg);opacity:0}}@-webkit-keyframes rotateOutUpRight{0%{opacity:1}to{transform:rotate3d(0,0,1,90deg);opacity:0}}@-webkit-keyframes hinge{0%{-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out}20%,60%{transform:rotate3d(0,0,1,80deg);-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out}40%,80%{transform:rotate3d(0,0,1,60deg);-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out;opacity:1}to{transform:translate3d(0,700px,0);opacity:0}}@-webkit-keyframes jackInTheBox{0%{opacity:0;transform:scale(.1) rotate(30deg);transform-origin:center bottom}50%{transform:rotate(-10deg)}70%{transform:rotate(3deg)}to{opacity:1;transform:scale(1)}}@-webkit-keyframes rollIn{0%{opacity:0;transform:translate3d(-100%,0,0) rotate3d(0,0,1,-120deg)}to{opacity:1;transform:translateZ(0)}}@-webkit-keyframes rollOut{0%{opacity:1}to{opacity:0;transform:translate3d(100%,0,0) rotate3d(0,0,1,120deg)}}@-webkit-keyframes zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@-webkit-keyframes zoomInDown{0%{opacity:0;transform:scale3d(.1,.1,.1) translate3d(0,-1000px,0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}60%{opacity:1;transform:scale3d(.475,.475,.475) translate3d(0,60px,0);-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}@-webkit-keyframes zoomInLeft{0%{opacity:0;transform:scale3d(.1,.1,.1) translate3d(-1000px,0,0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}60%{opacity:1;transform:scale3d(.475,.475,.475) translate3d(10px,0,0);-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}@-webkit-keyframes zoomInRight{0%{opacity:0;transform:scale3d(.1,.1,.1) translate3d(1000px,0,0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}60%{opacity:1;transform:scale3d(.475,.475,.475) translate3d(-10px,0,0);-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}@-webkit-keyframes zoomInUp{0%{opacity:0;transform:scale3d(.1,.1,.1) translate3d(0,1000px,0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}60%{opacity:1;transform:scale3d(.475,.475,.475) translate3d(0,-60px,0);-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}@-webkit-keyframes zoomOut{0%{opacity:1}50%{opacity:0;transform:scale3d(.3,.3,.3)}to{opacity:0}}@-webkit-keyframes zoomOutDown{40%{opacity:1;transform:scale3d(.475,.475,.475) translate3d(0,-60px,0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}to{opacity:0;transform:scale3d(.1,.1,.1) translate3d(0,2000px,0);-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}@-webkit-keyframes zoomOutLeft{40%{opacity:1;transform:scale3d(.475,.475,.475) translate3d(42px,0,0)}to{opacity:0;transform:scale(.1) translate3d(-2000px,0,0)}}@-webkit-keyframes zoomOutRight{40%{opacity:1;transform:scale3d(.475,.475,.475) translate3d(-42px,0,0)}to{opacity:0;transform:scale(.1) translate3d(2000px,0,0)}}@-webkit-keyframes zoomOutUp{40%{opacity:1;transform:scale3d(.475,.475,.475) translate3d(0,60px,0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}to{opacity:0;transform:scale3d(.1,.1,.1) translate3d(0,-2000px,0);-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}@-webkit-keyframes slideInDown{0%{transform:translate3d(0,-100%,0);visibility:visible}to{transform:translateZ(0)}}@-webkit-keyframes slideInLeft{0%{transform:translate3d(-100%,0,0);visibility:visible}to{transform:translateZ(0)}}@-webkit-keyframes slideInRight{0%{transform:translate3d(100%,0,0);visibility:visible}to{transform:translateZ(0)}}@-webkit-keyframes slideInUp{0%{transform:translate3d(0,100%,0);visibility:visible}to{transform:translateZ(0)}}@-webkit-keyframes slideOutDown{0%{transform:translateZ(0)}to{visibility:hidden;transform:translate3d(0,100%,0)}}@-webkit-keyframes slideOutLeft{0%{transform:translateZ(0)}to{visibility:hidden;transform:translate3d(-100%,0,0)}}@-webkit-keyframes slideOutRight{0%{transform:translateZ(0)}to{visibility:hidden;transform:translate3d(100%,0,0)}}@-webkit-keyframes slideOutUp{0%{transform:translateZ(0)}to{visibility:hidden;transform:translate3d(0,-100%,0)}}@-webkit-keyframes fa-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}body,html{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline}body{line-height:1}body{-webkit-text-size-adjust:none}body{-ms-overflow-style:scrollbar}@media screen and (max-width:480px){body,html{min-width:320px}}html{box-sizing:border-box}*,:after,:before{box-sizing:inherit}body{background-color:#2e3141;background-image:linear-gradient(to top,rgba(46,49,65,.8),rgba(46,49,65,.8)),url(/assets/images/bg.jpg);background-size:auto,cover;background-attachment:fixed,fixed;background-position:center,center}body{color:#fdfdfd;font-family:Source Sans Pro,Helvetica,sans-serif;font-size:16.5pt;font-weight:300;line-height:1.65}@media screen and (max-width:1680px){body{font-size:14pt}}@media screen and (max-width:1280px){body{font-size:14pt}}@media screen and (max-width:980px){body{font-size:13pt}}@media screen and (max-width:736px){body{font-size:13pt}}@media screen and (max-width:480px){body{font-size:12pt}}#page-wrapper{transition:filter .25s ease}</style><link rel="stylesheet" href="styles.ef31363bf4e25ee6.css" media="all" onload='this.media="all"'><noscript><link rel="stylesheet" href="styles.ef31363bf4e25ee6.css"></noscript><style></style><style>.menu-dark[_ngcontent-yix-c26]>button[_ngcontent-yix-c26]{color:#fdfdfd;background-color:#2e3141;opacity:.9;margin:0 1px}.menu-dark[_ngcontent-yix-c26]>button[_ngcontent-yix-c26]:focus,.menu-dark[_ngcontent-yix-c26]>button[_ngcontent-yix-c26]:hover{background-color:#43485f;box-shadow:inset 0 0 0 2px #5e7959}.menu-dark[_ngcontent-yix-c26]:focus>button[_ngcontent-yix-c26]{box-shadow:inset 0 0 0 2px #ada789}@media screen and (max-width:480px){.hidden-small[_ngcontent-yix-c26]{visibility:hidden}}</style><style>.header-title[_ngcontent-yix-c24]{background-image:url(/assets/images/bg-triangles.jpg);background-size:cover;font-size:5em;font-family:Montserrat,sans-serif;line-height:1.1;font-weight:700;margin-bottom:.2em;-webkit-background-clip:text;background-clip:text;color:#0000004a}.sub-header-title[_ngcontent-yix-c24]{color:#2e3141;font-size:1.6em!important;margin-bottom:.5em;line-height:1.3!important}.sub-header[_ngcontent-yix-c24]{color:#2e3141;font-size:1.2em}#banner[_ngcontent-yix-c24]{background-image:url(/assets/images/dk-header.jpg);background-repeat:no-repeat;background-position:right;background-size:contain;background-color:#fdfdfd;padding:9em 0 12em;cursor:pointer;-webkit-animation:headerFadeIn 3s;animation:headerFadeIn 3s}@-webkit-keyframes headerFadeIn{0%{opacity:0}to{opacity:1}}@keyframes headerFadeIn{0%{opacity:0}to{opacity:1}}#logo[_ngcontent-yix-c24]{position:absolute;top:0;width:70px;-webkit-animation:move-to-top 1s ease,rotate 4s ease 1;animation:move-to-top 1s ease,rotate 4s ease 1;cursor:pointer}@-webkit-keyframes rotate{to{transform:rotatey(360deg)}}@keyframes rotate{to{transform:rotatey(360deg)}}@-webkit-keyframes move-to-top{0%{top:100px}to{top:0}}@keyframes move-to-top{0%{top:100px}to{top:0}}@media screen and (max-width:1150px){#banner[_ngcontent-yix-c24]{background-position:right -200px top}}@media screen and (max-width:980px){#banner[_ngcontent-yix-c24]{background-size:contain;padding:6em 0 10em;background-position:right -200px top}}@media screen and (max-width:800px){.header-title[_ngcontent-yix-c24]{font-size:4em}}@media screen and (max-width:736px){.sub-header[_ngcontent-yix-c24]{font-size:1em!important;padding-right:110px}#banner[_ngcontent-yix-c24]{padding:6em 0 5em}}@media screen and (max-width:620px){.header-title[_ngcontent-yix-c24]{font-size:3.5em;padding-right:40vw}#banner[_ngcontent-yix-c24]{background-size:cover;background-position:right -180px top}}@media screen and (max-width:560px){.header-title[_ngcontent-yix-c24]{font-size:3em;padding-right:50vw}}@media screen and (max-width:400px){.header-title[_ngcontent-yix-c24]{opacity:.7;font-size:2.5em;padding-right:50vw}}</style><style>@media screen and (min-width:736px){ul.contact[_ngcontent-yix-c21]{-moz-columns:2;columns:2;width:100%!important}}</style><style>#cookie-banner[_ngcontent-yix-c27]{opacity:.9;z-index:10000;position:fixed;bottom:0;width:100%;display:flex;justify-content:space-between;align-items:baseline;background-color:#5e7959}#cookie-banner[_ngcontent-yix-c27] .banner-text[_ngcontent-yix-c27],#cookie-banner[_ngcontent-yix-c27] button[_ngcontent-yix-c27]{margin:15px}@media screen and (max-width:480px){button.small[_ngcontent-yix-c27]{padding:0 8px!important}}</style><style>.wrapper[_ngcontent-yix-c36]{margin-top:0}h1[_ngcontent-yix-c36]{font-size:1.4em}h2.sub-heading[_ngcontent-yix-c36]{font-size:.9em}.extra-info[_ngcontent-yix-c36]{display:flex;flex-direction:row-reverse;justify-content:space-between;align-content:baseline}.article-series[_ngcontent-yix-c36] .current[_ngcontent-yix-c36]{background-color:#34384a}.edit-on-github[_ngcontent-yix-c36],.external-links[_ngcontent-yix-c36],.published-at[_ngcontent-yix-c36]{margin:30px 0}.published-at[_ngcontent-yix-c36]{height:50px}table[_ngcontent-yix-c36]>tbody[_ngcontent-yix-c36] td[_ngcontent-yix-c36]{vertical-align:top;min-width:120px}table[_ngcontent-yix-c36]>tbody[_ngcontent-yix-c36] td[_ngcontent-yix-c36]>img[_ngcontent-yix-c36]{max-width:100px}table[_ngcontent-yix-c36]>tbody[_ngcontent-yix-c36] td[_ngcontent-yix-c36]>pre[_ngcontent-yix-c36]{margin:1em 0;border-radius:5px;padding:5px;background:#2d2d2d}table[_ngcontent-yix-c36]>tbody[_ngcontent-yix-c36] td[_ngcontent-yix-c36] code[_ngcontent-yix-c36]{background:0 0;white-space:pre-wrap;overflow-wrap:anywhere}.published-at[_ngcontent-yix-c36]{display:flex;align-items:center;line-height:1.2em}.published-at[_ngcontent-yix-c36] .published-at-link[_ngcontent-yix-c36]{text-decoration:none;border:none;min-width:120px}.published-at[_ngcontent-yix-c36] .published-at-link[_ngcontent-yix-c36] .published-at-logo[_ngcontent-yix-c36]{padding-right:20px;max-height:60px}.extra-section[_ngcontent-yix-c36] .actions[_ngcontent-yix-c36]{padding-bottom:10px}span.image[_ngcontent-yix-c36]>img.thumbnail[_ngcontent-yix-c36]{max-width:80px}@media screen and (max-width:560px){.blog-footer[_ngcontent-yix-c36]{position:fixed;bottom:0;left:0;width:100%;background:#2e3141;opacity:.9;z-index:1;padding:0 35px}.blog-footer[_ngcontent-yix-c36] h3[_ngcontent-yix-c36],.blog-footer[_ngcontent-yix-c36]>h2[_ngcontent-yix-c36]{display:none}.blog-footer[_ngcontent-yix-c36]>ul[_ngcontent-yix-c36]{margin:10px 0;display:flex;justify-content:space-between}.blog-footer[_ngcontent-yix-c36]>ul[_ngcontent-yix-c36]>li[_ngcontent-yix-c36]{padding-left:0}table[_ngcontent-yix-c36]>tbody[_ngcontent-yix-c36] td[_ngcontent-yix-c36]>img[_ngcontent-yix-c36]{max-width:70px}}@media screen and (max-width:460px){.extra-info[_ngcontent-yix-c36]{display:block}}@media screen and (max-width:360px){.blog-footer[_ngcontent-yix-c36]{padding:0 24px}table[_ngcontent-yix-c36]>tbody[_ngcontent-yix-c36] td[_ngcontent-yix-c36]>img[_ngcontent-yix-c36]{max-width:40px}}[_ngcontent-yix-c36]::slotted(h1){color:#330625;background-color:#f8d3ec;padding:5px;border-radius:5px;font-size:1.4em;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.adaptive-glass[_ngcontent-yix-c36]{--glass-lightness:100%;background:hsl(0 0% var(--glass-lightness)/50%);-webkit-backdrop-filter:blur(40px);backdrop-filter:blur(40px)}@media (prefers-color-scheme:dark){.adaptive-glass[_ngcontent-yix-c36]{--glass-lightness:0%}}@supports not ((-webkit-backdrop-filter:blur(1px)) or (backdrop-filter:blur(1px))){.adaptive-glass[_ngcontent-yix-c36]{background:hsl(0 0% var(--glass-lightness)/90%)}}figure[_ngcontent-yix-c36]{--on-glass-primary:hsl(220 50% 20%);--on-glass-secondary:hsl(220 40% 30%);border-radius:.5ch;overflow:hidden;box-shadow:0 3px 2px #00000005,0 7px 5px #00000008,0 13px 10px #0000000a,0 22px 18px #0000000d,0 42px 33px #0000000f,0 100px 80px #00000012}@media (prefers-color-scheme:dark){figure[_ngcontent-yix-c36]{--on-glass-primary:hsl(220 50% 90%);--on-glass-secondary:hsl(220 30% 75%)}}figure[_ngcontent-yix-c36] img[_ngcontent-yix-c36]{display:block;inline-size:100%;block-size:auto;-o-object-fit:cover;object-fit:cover}figcaption[_ngcontent-yix-c36]{display:grid;grid:[stack] 1fr/[stack] 1fr;position:relative}figcaption[_ngcontent-yix-c36]>[_ngcontent-yix-c36]{grid-area:stack}figcaption[_ngcontent-yix-c36]>img[_ngcontent-yix-c36]{position:absolute}figcaption[_ngcontent-yix-c36]>section[_ngcontent-yix-c36]{z-index:1;padding-inline:2ch;padding-block:2ch 2.5ch;color:var(--on-glass-primary);display:grid;grid-gap:1ch;gap:1ch}@media (prefers-color-scheme:dark){figcaption[_ngcontent-yix-c36]>section[_ngcontent-yix-c36]{text-shadow:0 1px 0 hsla(0deg,0%,0%,.2)}}figcaption[_ngcontent-yix-c36] h3[_ngcontent-yix-c36]{color:inherit;font-size:clamp(1.25rem,1rem + 2vw,2.5rem)}</style><style>:host{display:none}scully-content{display:none}</style><style>[_nghost-yix-c35]{display:inherit}.sb-button[_ngcontent-yix-c35],.sb-group[_ngcontent-yix-c35]{display:inline-flex;align-items:flex-start}.sb-group[_ngcontent-yix-c35]{flex-wrap:wrap}</style><style>[button=facebook] [_nghost-yix-c33],[button=facebook][_nghost-yix-c33]{--button-color:#4267B2}[button=twitter] [_nghost-yix-c33],[button=twitter][_nghost-yix-c33]{--button-color:#00acee}[button=google] [_nghost-yix-c33],[button=google][_nghost-yix-c33]{--button-color:#db4437}[button=mix] [_nghost-yix-c33],[button=mix][_nghost-yix-c33]{--button-color:#ff8226}[button=line] [_nghost-yix-c33],[button=line][_nghost-yix-c33]{--button-color:#00b900}[button=linkedin] [_nghost-yix-c33],[button=linkedin][_nghost-yix-c33]{--button-color:#006fa6}[button=pinterest] [_nghost-yix-c33],[button=pinterest][_nghost-yix-c33]{--button-color:#bd081c}[button=reddit] [_nghost-yix-c33],[button=reddit][_nghost-yix-c33]{--button-color:#ff4006}[button=tumblr] [_nghost-yix-c33],[button=tumblr][_nghost-yix-c33]{--button-color:#36465d}[button=whatsapp] [_nghost-yix-c33],[button=whatsapp][_nghost-yix-c33]{--button-color:#25d366}[button=messenger] [_nghost-yix-c33],[button=messenger][_nghost-yix-c33]{--button-color:#0080FF}[button=telegram] [_nghost-yix-c33],[button=telegram][_nghost-yix-c33]{--button-color:#0088cc}[button=xing] [_nghost-yix-c33],[button=xing][_nghost-yix-c33]{--button-color:#006567}[button=sms] [_nghost-yix-c33],[button=sms][_nghost-yix-c33]{--button-color:#20c16c}[button=email] [_nghost-yix-c33],[button=email][_nghost-yix-c33]{--button-color:#FF961C}[button=viber] [_nghost-yix-c33],[button=viber][_nghost-yix-c33]{--button-color:#665ca7}[button=vk] [_nghost-yix-c33],[button=vk][_nghost-yix-c33]{--button-color:#4C75A3}[button=copy] [_nghost-yix-c33],[button=copy][_nghost-yix-c33]{--button-color:#607D8B}[button=print] [_nghost-yix-c33],[button=print][_nghost-yix-c33]{--button-color:#765AA2}[button=expand] [_nghost-yix-c33],[button=expand][_nghost-yix-c33]{--button-color:#FF6651}button[_ngcontent-yix-c33]{cursor:pointer;position:relative;outline:0;-webkit-print-color-adjust:exact;margin:.3125em;margin:var(--sb-margin,.3125em);padding:0;padding:var(--sb-padding,0);min-width:4.125em;min-width:var(--sb-min-width,4.125em);height:2.5em;height:var(--sb-height,2.5em);color:#fff;color:var(--sb-color,#fff);background:var(--sb-background);font-size:13px;font-size:var(--sb-font-size,13px);line-height:2.571em;line-height:var(--sb-line-height,2.571em);border:var(--sb-border);border-radius:var(--sb-border-radius);transition:var(--sb-transition);box-shadow:var(--sb-box-shadow);text-shadow:var(--sb-text-shadow);overflow:var(--sb-overflow)}.sb-icon[_ngcontent-yix-c33],.sb-text[_ngcontent-yix-c33]{display:flex;align-items:center;justify-content:center;-webkit-user-select:none;-moz-user-select:none;user-select:none}.sb-content[_ngcontent-yix-c33]{flex:1;display:flex;height:100%;width:100%;position:relative}.sb-text[_ngcontent-yix-c33]{flex:1;height:100%;white-space:nowrap;padding:0 .7em;padding:var(--sb-text-padding,0 .7em);font-weight:700;font-weight:var(--sb-font-weight,bold)}.sb-icon[_ngcontent-yix-c33]{text-align:center;width:100%;height:100%;min-width:2em;font-size:1.2em;font-size:var(--sb-icon-size,1.2em)}</style><style>[button=facebook] [_nghost-yix-c34],[button=facebook][_nghost-yix-c34]{--button-color:#4267B2}[button=twitter] [_nghost-yix-c34],[button=twitter][_nghost-yix-c34]{--button-color:#00acee}[button=google] [_nghost-yix-c34],[button=google][_nghost-yix-c34]{--button-color:#db4437}[button=mix] [_nghost-yix-c34],[button=mix][_nghost-yix-c34]{--button-color:#ff8226}[button=line] [_nghost-yix-c34],[button=line][_nghost-yix-c34]{--button-color:#00b900}[button=linkedin] [_nghost-yix-c34],[button=linkedin][_nghost-yix-c34]{--button-color:#006fa6}[button=pinterest] [_nghost-yix-c34],[button=pinterest][_nghost-yix-c34]{--button-color:#bd081c}[button=reddit] [_nghost-yix-c34],[button=reddit][_nghost-yix-c34]{--button-color:#ff4006}[button=tumblr] [_nghost-yix-c34],[button=tumblr][_nghost-yix-c34]{--button-color:#36465d}[button=whatsapp] [_nghost-yix-c34],[button=whatsapp][_nghost-yix-c34]{--button-color:#25d366}[button=messenger] [_nghost-yix-c34],[button=messenger][_nghost-yix-c34]{--button-color:#0080FF}[button=telegram] [_nghost-yix-c34],[button=telegram][_nghost-yix-c34]{--button-color:#0088cc}[button=xing] [_nghost-yix-c34],[button=xing][_nghost-yix-c34]{--button-color:#006567}[button=sms] [_nghost-yix-c34],[button=sms][_nghost-yix-c34]{--button-color:#20c16c}[button=email] [_nghost-yix-c34],[button=email][_nghost-yix-c34]{--button-color:#FF961C}[button=viber] [_nghost-yix-c34],[button=viber][_nghost-yix-c34]{--button-color:#665ca7}[button=vk] [_nghost-yix-c34],[button=vk][_nghost-yix-c34]{--button-color:#4C75A3}[button=copy] [_nghost-yix-c34],[button=copy][_nghost-yix-c34]{--button-color:#607D8B}[button=print] [_nghost-yix-c34],[button=print][_nghost-yix-c34]{--button-color:#765AA2}[button=expand] [_nghost-yix-c34],[button=expand][_nghost-yix-c34]{--button-color:#FF6651}button[_ngcontent-yix-c34]{cursor:pointer;position:relative;outline:0;-webkit-print-color-adjust:exact;margin:.3125em;margin:var(--sb-margin,.3125em);padding:0;padding:var(--sb-padding,0);min-width:4.125em;min-width:var(--sb-min-width,4.125em);height:2.5em;height:var(--sb-height,2.5em);color:#fff;color:var(--sb-color,#fff);background:var(--sb-background);font-size:13px;font-size:var(--sb-font-size,13px);line-height:2.571em;line-height:var(--sb-line-height,2.571em);border:var(--sb-border);border-radius:var(--sb-border-radius);transition:var(--sb-transition);box-shadow:var(--sb-box-shadow);text-shadow:var(--sb-text-shadow);overflow:var(--sb-overflow)}.sb-icon[_ngcontent-yix-c34],.sb-text[_ngcontent-yix-c34]{display:flex;align-items:center;justify-content:center;-webkit-user-select:none;-moz-user-select:none;user-select:none}.sb-content[_ngcontent-yix-c34]{flex:1;display:flex;height:100%;width:100%;position:relative}.sb-text[_ngcontent-yix-c34]{flex:1;height:100%;white-space:nowrap;padding:0 .7em;padding:var(--sb-text-padding,0 .7em);font-weight:700;font-weight:var(--sb-font-weight,bold)}.sb-icon[_ngcontent-yix-c34]{text-align:center;width:100%;height:100%;min-width:2em;font-size:1.2em;font-size:var(--sb-icon-size,1.2em)}</style><meta name="description" content="Angular CLI schematics offer us a way to add, scaffold and update app-related files and modules. In this article I will guide you through some common but currently undocumented helper functions you can use to achieve your goal."><link rel="canonical" href="https://indepth.dev/speed-up-your-angular-schematics-development-with-useful-helper-functions"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@d_koppenhagen"><meta name="twitter:creator" content="@d_koppenhagen"><meta name="twitter:title" content="Speed up your Angular schematics development with useful helper functions"><meta name="twitter:description" content="Angular CLI schematics offer us a way to add, scaffold and update app-related files and modules. In this article I will guide you through some common but currently undocumented helper functions you can use to achieve your goal."><meta name="twitter:image" content="https://k9n.dev/assets/images/blog/schematics-helpers/schematics-helpers.jpg"><meta property="og:title" content="Speed up your Angular schematics development with useful helper functions"><meta property="og:description" content="Angular CLI schematics offer us a way to add, scaffold and update app-related files and modules. In this article I will guide you through some common but currently undocumented helper functions you can use to achieve your goal."><meta name="og:image" content="https://k9n.dev/assets/images/blog/schematics-helpers/schematics-helpers.jpg"><meta name="og:url" content="https://k9n.dev/blog/2020-09-angular-schematics-common-helpers"><script>window.ScullyIO="generated"</script></head><body id="page-wrapper" scully-version="0.0.0"><dk-root _nghost-yix-c28="" class="ng-tns-c28-0" ng-version="14.0.6"><dk-navbar _ngcontent-yix-c28="" class="ng-tns-c28-0" _nghost-yix-c26=""><nav _ngcontent-yix-c26="" id="navigation" role="navigation" tabindex="0" class="menu-dark ng-star-inserted"><button _ngcontent-yix-c26="" role="button" aria-expanded="false" class="burger-menu" aria-label="Open menu"><span _ngcontent-yix-c26="" class="hidden-small">Menu</span></button><button _ngcontent-yix-c26="" aria-label="Switch Language">EN</button></nav></dk-navbar><dk-header _ngcontent-yix-c28="" class="ng-tns-c28-0" _nghost-yix-c24=""><header _ngcontent-yix-c24="" id="banner" routerlink="/" tabindex="0" class="ng-star-inserted"><div _ngcontent-yix-c24="" class="inner"><img _ngcontent-yix-c24="" routerlink="/" src="assets/images/logo_header.png" id="logo" tabindex="0" alt="Logo"><h1 _ngcontent-yix-c24="" class="header-title">k<span _ngcontent-yix-c24="" class="headline-expanded ng-star-inserted">9</span><span _ngcontent-yix-c24="" class="ng-star-inserted">n.dev</span></h1><p _ngcontent-yix-c24="" class="sub-header-title">Danny Koppenhagen</p><p _ngcontent-yix-c24="" class="sub-header">Developer, IT Consultant, Author</p></div></header></dk-header><router-outlet _ngcontent-yix-c28="" class="ng-tns-c28-0"></router-outlet><dk-blog-content _nghost-yix-c36="" class="ng-star-inserted"><article _ngcontent-yix-c36="" class="wrapper alt ng-star-inserted"><div _ngcontent-yix-c36="" class="inner"><section _ngcontent-yix-c36="" class="blog-header ng-star-inserted"><figure _ngcontent-yix-c36="" class="ng-star-inserted"><picture _ngcontent-yix-c36=""><img _ngcontent-yix-c36="" src="assets/images/blog/schematics-helpers/schematics-helpers.jpg" alt="Blog-Post title image"></picture><figcaption _ngcontent-yix-c36=""><img _ngcontent-yix-c36="" aria-hidden="true" alt="" src="assets/images/blog/schematics-helpers/schematics-helpers.jpg"><section _ngcontent-yix-c36="" class="adaptive-glass"><h3 _ngcontent-yix-c36="">Speed up your Angular schematics development with useful helper functions</h3></section></figcaption></figure></section><section _ngcontent-yix-c36="" class="extra-section ng-star-inserted"><div _ngcontent-yix-c36="" class="extra-info"><span _ngcontent-yix-c36="" class="ng-star-inserted"><time _ngcontent-yix-c36="" datetime="2001-05-15 19:00">19.05.2021</time></span><h2 _ngcontent-yix-c36="" class="sub-heading">Keywords</h2></div><div _ngcontent-yix-c36="" class="actions"><span _ngcontent-yix-c36="" class="ng-star-inserted"><button _ngcontent-yix-c36="" routerlink="/blog" class="button xs" tabindex="0" aria-label="Filter for keyword: Angular">Angular</button> </span><span _ngcontent-yix-c36="" class="ng-star-inserted"><button _ngcontent-yix-c36="" routerlink="/blog" class="button xs" tabindex="0" aria-label="Filter for keyword: Angular CLI">Angular CLI</button> </span><span _ngcontent-yix-c36="" class="ng-star-inserted"><button _ngcontent-yix-c36="" routerlink="/blog" class="button xs" tabindex="0" aria-label="Filter for keyword: Schematics">Schematics</button></span></div><div _ngcontent-yix-c36="" class="published-at ng-star-inserted"><div _ngcontent-yix-c36=""><a _ngcontent-yix-c36="" class="published-at-link" href="https://indepth.dev/speed-up-your-angular-schematics-development-with-useful-helper-functions" rel="noreferrer noopener"><img _ngcontent-yix-c36="" class="published-at-logo ng-star-inserted" src="assets/images/InDepthdev-white.svg" alt="Logo of the original publisher"></a></div><div _ngcontent-yix-c36="">This blog post has been published originally at: <a _ngcontent-yix-c36="" href="https://indepth.dev/speed-up-your-angular-schematics-development-with-useful-helper-functions" rel="noreferrer noopener">inDepth.dev</a>.</div></div></section><section _ngcontent-yix-c36="" class="external-links ng-star-inserted"><a _ngcontent-yix-c36="" href="https://dev.to/dkoppenhagen/speed-up-your-angular-schematics-development-with-useful-helper-functions-1kb2" class="ng-star-inserted" rel="noreferrer noopener">Dev.to</a></section><section _ngcontent-yix-c36="" class="blog-content"><!--scullyContent-begin--><h1 id="speed-up-your-angular-schematics-development-with-useful-helper-functions" _ngcontent-yix-c36="">Speed up your Angular schematics development with useful helper functions</h1><p _ngcontent-yix-c36="">Angular CLI schematics offer us a way to add, scaffold and update app-related files and modules. However, there are some common things we will probably want integrate in our schematics: updating your <code _ngcontent-yix-c36="">package.json</code> file, adding or removing an Angular module or updating component imports.</p><p _ngcontent-yix-c36="">Currently, the way of authoring an Angular Schematic is documented <a href="https://angular.io/guide/schematics-authoring" _ngcontent-yix-c36="" rel="noreferrer noopener">on angular.io</a>. However, there is one big thing missing there: the way of integrating typical and repeating tasks. The Angular CLI itself uses schematics for e.g. generating modules and components, adding imports or modifying the <code _ngcontent-yix-c36="">package.json</code> file. Under the hood each of the schematics uses some very common utils which are not yet documented but available for all developers anyway. In the past, I've seen some Angular CLI Schematic projects where people were trying to implement almost the same common util methods on their own. However, since some of these are already implemented in the Angular CLI, I want to show you some of those typical helpers that you can use for you Angular CLI Schematic project to prevent any pitfalls.</p><hr _ngcontent-yix-c36=""><div id="toc" _ngcontent-yix-c36=""><strong _ngcontent-yix-c36="">Table of contents</strong><ul><li onclick='document.getElementById("⚠️-attention-not-officially-supported").scrollIntoView()'><a href="/blog/2020-09-angular-schematics-common-helpers/#⚠️-attention-not-officially-supported">⚠️ Attention: not officially supported</a></li><li onclick='document.getElementById("🕹-examples-and-playground-on-github").scrollIntoView()'><a href="/blog/2020-09-angular-schematics-common-helpers/#🕹-examples-and-playground-on-github">🕹 Examples and playground on GitHub</a></li><li onclick='document.getElementById("create-an-angular-schematics-example-project").scrollIntoView()'><a href="/blog/2020-09-angular-schematics-common-helpers/#create-an-angular-schematics-example-project">Create an Angular schematics example project</a></li><ul style="margin-bottom:0"><li onclick='document.getElementById("basic-types").scrollIntoView()'><a href="/blog/2020-09-angular-schematics-common-helpers/#basic-types">Basic types</a></li><li onclick='document.getElementById("install-the-helpers-from-schematicsangular").scrollIntoView()'><a href="/blog/2020-09-angular-schematics-common-helpers/#install-the-helpers-from-schematicsangular">Install the helpers from @schematics/angular</a></li></ul><li onclick='document.getElementById("changing-the-packagejson-get-add-and-remove-dev--peer--dependencies").scrollIntoView()'><a href="/blog/2020-09-angular-schematics-common-helpers/#changing-the-packagejson-get-add-and-remove-dev--peer--dependencies">Changing the package.json: Get, Add and Remove (dev-, peer-) dependencies</a></li><li onclick='document.getElementById("add-content-on-a-specific-position").scrollIntoView()'><a href="/blog/2020-09-angular-schematics-common-helpers/#add-content-on-a-specific-position">Add content on a specific position</a></li><li onclick='document.getElementById("determine-relative-path-to-the-project-root").scrollIntoView()'><a href="/blog/2020-09-angular-schematics-common-helpers/#determine-relative-path-to-the-project-root">Determine relative path to the project root</a></li><li onclick='document.getElementById("add-typescript-imports").scrollIntoView()'><a href="/blog/2020-09-angular-schematics-common-helpers/#add-typescript-imports">Add TypeScript imports</a></li><li onclick='document.getElementById("update-ngmodule").scrollIntoView()'><a href="/blog/2020-09-angular-schematics-common-helpers/#update-ngmodule">Update NgModule</a></li><ul style="margin-bottom:0"><li onclick='document.getElementById("add-a-declaration-to-a-module").scrollIntoView()'><a href="/blog/2020-09-angular-schematics-common-helpers/#add-a-declaration-to-a-module">Add a declaration to a module</a></li><li onclick='document.getElementById("ngmodule-add-imports-exports-providers-and-bootstrap").scrollIntoView()'><a href="/blog/2020-09-angular-schematics-common-helpers/#ngmodule-add-imports-exports-providers-and-bootstrap">NgModule: add imports, exports, providers, and bootstrap</a></li><li onclick='document.getElementById("add-route-declarations").scrollIntoView()'><a href="/blog/2020-09-angular-schematics-common-helpers/#add-route-declarations">Add route declarations</a></li></ul><li onclick='document.getElementById("retrieve-the-angular-workspace-configuration").scrollIntoView()'><a href="/blog/2020-09-angular-schematics-common-helpers/#retrieve-the-angular-workspace-configuration">Retrieve the Angular workspace configuration</a></li><li onclick='document.getElementById("get-default-path-for-an-app-inside-the-workspace").scrollIntoView()'><a href="/blog/2020-09-angular-schematics-common-helpers/#get-default-path-for-an-app-inside-the-workspace">Get default path for an app inside the workspace</a></li><li onclick='document.getElementById("call-schematics-from-schematics").scrollIntoView()'><a href="/blog/2020-09-angular-schematics-common-helpers/#call-schematics-from-schematics">Call schematics from schematics</a></li><ul style="margin-bottom:0"><li onclick='document.getElementById("run-local-schematics-using-the-runschematictask").scrollIntoView()'><a href="/blog/2020-09-angular-schematics-common-helpers/#run-local-schematics-using-the-runschematictask">Run local schematics using the RunSchematicTask</a></li><li onclick='document.getElementById("run-schematics-by-using-the-schematic-and-externalschematic-function").scrollIntoView()'><a href="/blog/2020-09-angular-schematics-common-helpers/#run-schematics-by-using-the-schematic-and-externalschematic-function">Run schematics by using the schematic() and externalSchematic() function</a></li></ul><li onclick='document.getElementById("conclusion").scrollIntoView()'><a href="/blog/2020-09-angular-schematics-common-helpers/#conclusion">Conclusion</a></li><li onclick='document.getElementById("summary").scrollIntoView()'><a href="/blog/2020-09-angular-schematics-common-helpers/#summary">Summary</a></li></ul></div><h2 id="⚠️-attention-not-officially-supported" _ngcontent-yix-c36="">⚠️ Attention: not officially supported</h2><p _ngcontent-yix-c36="">The helper functions I present you in this article are neither documented nor officially supported, and they may change in the future. <a href="https://twitter.com/AlanAgius4" _ngcontent-yix-c36="" rel="noreferrer noopener">Alan Agius</a>, member of the Angular CLI core team replied in a <a href="https://github.com/angular/angular-cli/issues/15335#issuecomment-660609283" _ngcontent-yix-c36="" rel="noreferrer noopener">related issue (#15335)</a> for creating a public schematics API reference:</p><blockquote _ngcontent-yix-c36=""><p _ngcontent-yix-c36="">[...] those utils are not considered as part of the public API and might break without warning in any release.</p></blockquote><p _ngcontent-yix-c36="">So, there are plans to provide some utilities via a public API but this is still in the planning stage. While things evolve, it's my intention to keep this article as up-to-date as possible.</p><blockquote _ngcontent-yix-c36=""><p _ngcontent-yix-c36="">The following Angular CLI schematics util functions are based on the Angular CLI version <code _ngcontent-yix-c36="">12.0.0</code>.</p></blockquote><p _ngcontent-yix-c36="">If you use these functions and they will break in the future, you can check out the <a href="https://github.com/angular/angular-cli/tree/master/packages/schematics/angular/utility" _ngcontent-yix-c36="" rel="noreferrer noopener">source code changes</a> for the utility functions and adjust your code.</p><h2 id="🕹-examples-and-playground-on-github" _ngcontent-yix-c36="">🕹 Examples and playground on GitHub</h2><p _ngcontent-yix-c36="">To follow and try out the examples I present you in this article, I <a href="https://github.com/d-koppenhagen/schematics-helpers-playground" _ngcontent-yix-c36="" rel="noreferrer noopener">prepared a playground repository on GitHub</a>. Clone this repo and check out the <code _ngcontent-yix-c36="">README.md</code> inside to get started with the playground. 🚀</p><h2 id="create-an-angular-schematics-example-project" _ngcontent-yix-c36="">Create an Angular schematics example project</h2><p _ngcontent-yix-c36="">First things first: We need a project where we can try things out. You can either use an existing schematics project or simply create a new blank one:</p><pre class="language-bash" _ngcontent-yix-c36=""><code class="language-bash" _ngcontent-yix-c36="">npx @angular-devkit/schematics-cli blank --name=playground</code></pre><blockquote _ngcontent-yix-c36=""><p _ngcontent-yix-c36="">If you are not familar with the basics of authoring schematics, I recommend you to read the <a href="https://angular.io/guide/schematics-authoring" _ngcontent-yix-c36="" rel="noreferrer noopener">Angular Docs</a> and the <a href="https://medium.com/@tomastrajan/total-guide-to-custom-angular-schematics-5c50cf90cdb4" _ngcontent-yix-c36="" rel="noreferrer noopener">blog post <em _ngcontent-yix-c36="">"Total Guide To Custom Angular schematics"</em> by Tomas Trajan</a> first as well as the <a href="https://indepth.dev/angular-schematics-from-0-to-publishing-your-own-library-i" _ngcontent-yix-c36="" rel="noreferrer noopener">article series "Angular Schematics from 0 to publishing your own library" by Natalia Venditto</a> first.</p></blockquote><p _ngcontent-yix-c36="">After setting up the new blank project we should have this file available: <code _ngcontent-yix-c36="">src/playground/index.ts</code>.</p><pre class="language-ts" _ngcontent-yix-c36=""><code class="language-ts" _ngcontent-yix-c36=""><span class="token keyword" _ngcontent-yix-c36="">import</span> <span class="token punctuation" _ngcontent-yix-c36="">{</span> Rule<span class="token punctuation" _ngcontent-yix-c36="">,</span> SchematicContext<span class="token punctuation" _ngcontent-yix-c36="">,</span> Tree <span class="token punctuation" _ngcontent-yix-c36="">}</span> <span class="token keyword" _ngcontent-yix-c36="">from</span> <span class="token string" _ngcontent-yix-c36="">'@angular-devkit/schematics'</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>

<span class="token keyword" _ngcontent-yix-c36="">export</span> <span class="token keyword" _ngcontent-yix-c36="">function</span> <span class="token function" _ngcontent-yix-c36="">playground</span><span class="token punctuation" _ngcontent-yix-c36="">(</span>_options<span class="token operator" _ngcontent-yix-c36="">:</span> <span class="token builtin" _ngcontent-yix-c36="">any</span><span class="token punctuation" _ngcontent-yix-c36="">)</span><span class="token operator" _ngcontent-yix-c36="">:</span> Rule <span class="token punctuation" _ngcontent-yix-c36="">{</span>
  <span class="token keyword" _ngcontent-yix-c36="">return</span> <span class="token punctuation" _ngcontent-yix-c36="">(</span>tree<span class="token operator" _ngcontent-yix-c36="">:</span> Tree<span class="token punctuation" _ngcontent-yix-c36="">,</span> _context<span class="token operator" _ngcontent-yix-c36="">:</span> SchematicContext<span class="token punctuation" _ngcontent-yix-c36="">)</span> <span class="token operator" _ngcontent-yix-c36="">=&gt;</span> <span class="token punctuation" _ngcontent-yix-c36="">{</span>
    <span class="token builtin" _ngcontent-yix-c36="">console</span><span class="token punctuation" _ngcontent-yix-c36="">.</span><span class="token function" _ngcontent-yix-c36="">log</span><span class="token punctuation" _ngcontent-yix-c36="">(</span><span class="token string" _ngcontent-yix-c36="">'schematic works'</span><span class="token punctuation" _ngcontent-yix-c36="">)</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
    <span class="token keyword" _ngcontent-yix-c36="">return</span> tree<span class="token punctuation" _ngcontent-yix-c36="">;</span>
  <span class="token punctuation" _ngcontent-yix-c36="">}</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
<span class="token punctuation" _ngcontent-yix-c36="">}</span></code></pre><p _ngcontent-yix-c36="">This is the base for the following examples and explanations. Please make sure that you can execute the blank schematic by calling it on the console:</p><pre class="language-bash" _ngcontent-yix-c36=""><code class="language-bash" _ngcontent-yix-c36="">npx @angular-devkit/schematics-cli .:playground</code></pre><p _ngcontent-yix-c36="">or if you installed the schematics CLI globally via <code _ngcontent-yix-c36="">npm i @angular-devkit/schematics-cli</code>:</p><pre class="language-bash" _ngcontent-yix-c36=""><code class="language-bash" _ngcontent-yix-c36="">schematics .:playground</code></pre><p _ngcontent-yix-c36="">The <code _ngcontent-yix-c36="">.</code> refers to the current directory where our schematics project lives.</p><p _ngcontent-yix-c36=""><a href="https://github.com/d-koppenhagen/schematics-helpers-playground/tree/master/playground/src/playground" _ngcontent-yix-c36="" rel="noreferrer noopener">Check out the basic example in the playground repository on GitHub</a></p><h3 id="basic-types" _ngcontent-yix-c36="">Basic types</h3><p _ngcontent-yix-c36="">In case you are not familiar with the structure of schematics, I will just explain some very basic things shortly:</p><ul _ngcontent-yix-c36=""><li _ngcontent-yix-c36="">A <strong _ngcontent-yix-c36=""><code _ngcontent-yix-c36="">Tree</code></strong> is the structured virtual representation of every file in the workspace which we apply the schematic to.</li><li _ngcontent-yix-c36="">A <strong _ngcontent-yix-c36=""><code _ngcontent-yix-c36="">Rule</code></strong> is called with a <code _ngcontent-yix-c36="">Tree</code> and a <code _ngcontent-yix-c36="">SchematicContext</code>. The <code _ngcontent-yix-c36="">Rule</code> is supposed to make changes on the <code _ngcontent-yix-c36="">Tree</code> and returns the adjusted <code _ngcontent-yix-c36="">Tree</code>.</li><li _ngcontent-yix-c36="">The <strong _ngcontent-yix-c36=""><code _ngcontent-yix-c36="">SchematicContext</code></strong> contains information necessary for the schematics to execute some rules.</li></ul><h3 id="install-the-helpers-from-schematicsangular" _ngcontent-yix-c36="">Install the helpers from <code _ngcontent-yix-c36="">@schematics/angular</code></h3><p _ngcontent-yix-c36="">A second thing we need to do is to install the package <code _ngcontent-yix-c36="">@schematics/angular</code> which contains all the utils we need for the next steps. This package contains all the schematics the Angular CLI uses by itself when running commands like <code _ngcontent-yix-c36="">ng generate</code> or <code _ngcontent-yix-c36="">ng new</code> etc.</p><pre class="language-bash" _ngcontent-yix-c36=""><code class="language-bash" _ngcontent-yix-c36="">npm i --save @schematics/angular</code></pre><h2 id="changing-the-packagejson-get-add-and-remove-dev--peer--dependencies" _ngcontent-yix-c36="">Changing the <code _ngcontent-yix-c36="">package.json</code>: Get, Add and Remove (dev-, peer-) dependencies</h2><p _ngcontent-yix-c36="">A very common thing when authoring a schematic is adding a dependency to the <code _ngcontent-yix-c36="">package.json</code> file. Of course, we can implement a function that parses and writes to/from our JSON file. But why should we solve a problem that's already solved?</p><p _ngcontent-yix-c36="">For this, we can use the functions provided by <code _ngcontent-yix-c36="">@schematics/angular/utility/dependencies</code> to handle dependency operations. The function <code _ngcontent-yix-c36="">addPackageJsonDependency()</code> allows us to add a dependency object of type <code _ngcontent-yix-c36="">NodeDependency</code> to the <code _ngcontent-yix-c36="">package.json</code> file. The property <code _ngcontent-yix-c36="">type</code> must contain a value of the <code _ngcontent-yix-c36="">NodeDependencyType</code> enum. Its values represent the different sections of a <code _ngcontent-yix-c36="">package.json</code> file:</p><ul _ngcontent-yix-c36=""><li _ngcontent-yix-c36=""><code _ngcontent-yix-c36="">dependencies</code>,</li><li _ngcontent-yix-c36=""><code _ngcontent-yix-c36="">devDependencies</code>,</li><li _ngcontent-yix-c36=""><code _ngcontent-yix-c36="">peerDependencies</code> and</li><li _ngcontent-yix-c36=""><code _ngcontent-yix-c36="">optionalDependencies</code>.</li></ul><p _ngcontent-yix-c36="">The first parameter to this util function is the <code _ngcontent-yix-c36="">Tree</code> with all its files. The function will not just append the dependency to the appropriate section, it will also insert the dependency at the right position, so that the dependencies list is ordered ascending by its keys.</p><p _ngcontent-yix-c36="">We can use the <code _ngcontent-yix-c36="">getPackageJsonDependency()</code> function to request the dependency configuration as a <code _ngcontent-yix-c36="">NodeDependency</code> object. The good thing here is: We don't need to know in which of the sections a dependency is located. It will look up the dependency in sections of the <code _ngcontent-yix-c36="">package.json</code> file: <code _ngcontent-yix-c36="">dependencies</code>, <code _ngcontent-yix-c36="">devDependencies</code>, <code _ngcontent-yix-c36="">peerDependencies</code> and <code _ngcontent-yix-c36="">optionalDependencies</code>.</p><p _ngcontent-yix-c36="">The third function I want to show is <code _ngcontent-yix-c36="">removePackageJsonDependency()</code>. Just like <code _ngcontent-yix-c36="">getPackageJsonDependency()</code>, it can be called with a <code _ngcontent-yix-c36="">Tree</code> and the package name and it will remove this dependency from the <code _ngcontent-yix-c36="">package.json</code> file.</p><p _ngcontent-yix-c36="">By default, all these functions will use the <code _ngcontent-yix-c36="">package.json</code> file in the root of the tree, but we can pass a third parameter containing a specific path to another <code _ngcontent-yix-c36="">package.json</code> file.</p><p _ngcontent-yix-c36="">Last but not least we don't want our users to manually run <code _ngcontent-yix-c36="">npm install</code> on the console after adding dependencies. Therefore, we can add a new <code _ngcontent-yix-c36="">NodePackageInstallTask</code> via the <code _ngcontent-yix-c36="">addTask</code> method on our <code _ngcontent-yix-c36="">context</code>.</p><pre class="language-ts" _ngcontent-yix-c36=""><code class="language-ts" _ngcontent-yix-c36=""><span class="token keyword" _ngcontent-yix-c36="">import</span> <span class="token punctuation" _ngcontent-yix-c36="">{</span> Rule<span class="token punctuation" _ngcontent-yix-c36="">,</span> SchematicContext<span class="token punctuation" _ngcontent-yix-c36="">,</span> Tree <span class="token punctuation" _ngcontent-yix-c36="">}</span> <span class="token keyword" _ngcontent-yix-c36="">from</span> <span class="token string" _ngcontent-yix-c36="">'@angular-devkit/schematics'</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
<span class="token keyword" _ngcontent-yix-c36="">import</span> <span class="token punctuation" _ngcontent-yix-c36="">{</span> NodePackageInstallTask <span class="token punctuation" _ngcontent-yix-c36="">}</span> <span class="token keyword" _ngcontent-yix-c36="">from</span> <span class="token string" _ngcontent-yix-c36="">'@angular-devkit/schematics/tasks'</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
<span class="token keyword" _ngcontent-yix-c36="">import</span> <span class="token punctuation" _ngcontent-yix-c36="">{</span>
  NodeDependency<span class="token punctuation" _ngcontent-yix-c36="">,</span>
  NodeDependencyType<span class="token punctuation" _ngcontent-yix-c36="">,</span>
  getPackageJsonDependency<span class="token punctuation" _ngcontent-yix-c36="">,</span>
  addPackageJsonDependency<span class="token punctuation" _ngcontent-yix-c36="">,</span>
  removePackageJsonDependency<span class="token punctuation" _ngcontent-yix-c36="">,</span>
<span class="token punctuation" _ngcontent-yix-c36="">}</span> <span class="token keyword" _ngcontent-yix-c36="">from</span> <span class="token string" _ngcontent-yix-c36="">'@schematics/angular/utility/dependencies'</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>

<span class="token keyword" _ngcontent-yix-c36="">export</span> <span class="token keyword" _ngcontent-yix-c36="">function</span> <span class="token function" _ngcontent-yix-c36="">playground</span><span class="token punctuation" _ngcontent-yix-c36="">(</span>_options<span class="token operator" _ngcontent-yix-c36="">:</span> <span class="token builtin" _ngcontent-yix-c36="">any</span><span class="token punctuation" _ngcontent-yix-c36="">)</span><span class="token operator" _ngcontent-yix-c36="">:</span> Rule <span class="token punctuation" _ngcontent-yix-c36="">{</span>
  <span class="token keyword" _ngcontent-yix-c36="">return</span> <span class="token punctuation" _ngcontent-yix-c36="">(</span>tree<span class="token operator" _ngcontent-yix-c36="">:</span> Tree<span class="token punctuation" _ngcontent-yix-c36="">,</span> context<span class="token operator" _ngcontent-yix-c36="">:</span> SchematicContext<span class="token punctuation" _ngcontent-yix-c36="">)</span> <span class="token operator" _ngcontent-yix-c36="">=&gt;</span> <span class="token punctuation" _ngcontent-yix-c36="">{</span>
    <span class="token keyword" _ngcontent-yix-c36="">const</span> dep<span class="token operator" _ngcontent-yix-c36="">:</span> NodeDependency <span class="token operator" _ngcontent-yix-c36="">=</span> <span class="token punctuation" _ngcontent-yix-c36="">{</span>
      type<span class="token operator" _ngcontent-yix-c36="">:</span> NodeDependencyType<span class="token punctuation" _ngcontent-yix-c36="">.</span>Dev<span class="token punctuation" _ngcontent-yix-c36="">,</span>
      name<span class="token operator" _ngcontent-yix-c36="">:</span> <span class="token string" _ngcontent-yix-c36="">'moment'</span><span class="token punctuation" _ngcontent-yix-c36="">,</span>
      version<span class="token operator" _ngcontent-yix-c36="">:</span> <span class="token string" _ngcontent-yix-c36="">'~2.27.0'</span><span class="token punctuation" _ngcontent-yix-c36="">,</span>
      overwrite<span class="token operator" _ngcontent-yix-c36="">:</span> <span class="token boolean" _ngcontent-yix-c36="">true</span><span class="token punctuation" _ngcontent-yix-c36="">,</span>
    <span class="token punctuation" _ngcontent-yix-c36="">}</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>

    <span class="token function" _ngcontent-yix-c36="">addPackageJsonDependency</span><span class="token punctuation" _ngcontent-yix-c36="">(</span>tree<span class="token punctuation" _ngcontent-yix-c36="">,</span> dep<span class="token punctuation" _ngcontent-yix-c36="">)</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
    <span class="token builtin" _ngcontent-yix-c36="">console</span><span class="token punctuation" _ngcontent-yix-c36="">.</span><span class="token function" _ngcontent-yix-c36="">log</span><span class="token punctuation" _ngcontent-yix-c36="">(</span><span class="token function" _ngcontent-yix-c36="">getPackageJsonDependency</span><span class="token punctuation" _ngcontent-yix-c36="">(</span>tree<span class="token punctuation" _ngcontent-yix-c36="">,</span> <span class="token string" _ngcontent-yix-c36="">'moment'</span><span class="token punctuation" _ngcontent-yix-c36="">)</span><span class="token punctuation" _ngcontent-yix-c36="">)</span>
    <span class="token comment" _ngcontent-yix-c36="">// { type: 'devDependencies', name: 'moment', version: '~2.27.0' }</span>

    <span class="token function" _ngcontent-yix-c36="">removePackageJsonDependency</span><span class="token punctuation" _ngcontent-yix-c36="">(</span>tree<span class="token punctuation" _ngcontent-yix-c36="">,</span> <span class="token string" _ngcontent-yix-c36="">'protractor'</span><span class="token punctuation" _ngcontent-yix-c36="">)</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
    <span class="token builtin" _ngcontent-yix-c36="">console</span><span class="token punctuation" _ngcontent-yix-c36="">.</span><span class="token function" _ngcontent-yix-c36="">log</span><span class="token punctuation" _ngcontent-yix-c36="">(</span><span class="token function" _ngcontent-yix-c36="">getPackageJsonDependency</span><span class="token punctuation" _ngcontent-yix-c36="">(</span>tree<span class="token punctuation" _ngcontent-yix-c36="">,</span> <span class="token string" _ngcontent-yix-c36="">'protractor'</span><span class="token punctuation" _ngcontent-yix-c36="">)</span><span class="token punctuation" _ngcontent-yix-c36="">)</span>
    <span class="token comment" _ngcontent-yix-c36="">// null</span>

    context<span class="token punctuation" _ngcontent-yix-c36="">.</span><span class="token function" _ngcontent-yix-c36="">addTask</span><span class="token punctuation" _ngcontent-yix-c36="">(</span><span class="token keyword" _ngcontent-yix-c36="">new</span> <span class="token class-name" _ngcontent-yix-c36="">NodePackageInstallTask</span><span class="token punctuation" _ngcontent-yix-c36="">(</span><span class="token punctuation" _ngcontent-yix-c36="">)</span><span class="token punctuation" _ngcontent-yix-c36="">,</span> <span class="token punctuation" _ngcontent-yix-c36="">[</span><span class="token punctuation" _ngcontent-yix-c36="">]</span><span class="token punctuation" _ngcontent-yix-c36="">)</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>

    <span class="token keyword" _ngcontent-yix-c36="">return</span> tree<span class="token punctuation" _ngcontent-yix-c36="">;</span>
  <span class="token punctuation" _ngcontent-yix-c36="">}</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
<span class="token punctuation" _ngcontent-yix-c36="">}</span></code></pre><p _ngcontent-yix-c36="">To really check that the <code _ngcontent-yix-c36="">NodePackageInstallTask</code> is properly executed, you need to disable the schematics debug mode that's enabled by default during development and local execution:</p><pre class="language-bash" _ngcontent-yix-c36=""><code class="language-bash" _ngcontent-yix-c36="">schematics .:playground --debug=false</code></pre><ul _ngcontent-yix-c36=""><li _ngcontent-yix-c36=""><a href="https://github.com/angular/angular-cli/blob/master/packages/schematics/angular/utility/dependencies.ts" _ngcontent-yix-c36="" rel="noreferrer noopener">Check out the implementation of the dependency operations in detail.</a></li><li _ngcontent-yix-c36=""><a href="https://github.com/d-koppenhagen/schematics-helpers-playground/tree/master/playground/src/dependencies" _ngcontent-yix-c36="" rel="noreferrer noopener">Check out the examples in the playground repository on GitHub</a></li></ul><h2 id="add-content-on-a-specific-position" _ngcontent-yix-c36="">Add content on a specific position</h2><p _ngcontent-yix-c36="">Sometimes we need to change some contents of a file. Independently of the type of a file, we can use the <code _ngcontent-yix-c36="">InsertChange</code> class. This class returns a change object which contains the content to be added and the position where the change is being inserted.</p><p _ngcontent-yix-c36="">In the following example we will create a new file called <code _ngcontent-yix-c36="">my-file.extension</code> with the content <code _ngcontent-yix-c36="">const a = 'foo';</code> inside the virtual tree. First, we will instantiate a new <code _ngcontent-yix-c36="">InsertChange</code> with the file path, the position where we want to add the change and finally the content we want to add. The next step for us is to start the update process for the file using the <code _ngcontent-yix-c36="">beginUpdate()</code> method on our tree. This method returns an object of type <code _ngcontent-yix-c36="">UpdateRecorder</code>. We can now use the <code _ngcontent-yix-c36="">insertLeft()</code> method and hand over the position and the content (<code _ngcontent-yix-c36="">toAdd</code>) from the <code _ngcontent-yix-c36="">InsertChange</code>. The change is now marked but not proceeded yet. To really update the file's content we need to call the <code _ngcontent-yix-c36="">commitUpdate()</code> method on our tree with the <code _ngcontent-yix-c36="">exportRecorder</code>. When we now call <code _ngcontent-yix-c36="">tree.get(filePath)</code> we can log the file's content and see that the change has been proceeded. To delete a file inside the virtual tree, we can use the <code _ngcontent-yix-c36="">delete()</code> method with the file path on the tree.</p><p _ngcontent-yix-c36="">Let's have a look at an implementation example:</p><pre class="language-ts" _ngcontent-yix-c36=""><code class="language-ts" _ngcontent-yix-c36=""><span class="token keyword" _ngcontent-yix-c36="">import</span> <span class="token punctuation" _ngcontent-yix-c36="">{</span> Rule<span class="token punctuation" _ngcontent-yix-c36="">,</span> SchematicContext<span class="token punctuation" _ngcontent-yix-c36="">,</span> Tree <span class="token punctuation" _ngcontent-yix-c36="">}</span> <span class="token keyword" _ngcontent-yix-c36="">from</span> <span class="token string" _ngcontent-yix-c36="">'@angular-devkit/schematics/'</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
<span class="token keyword" _ngcontent-yix-c36="">import</span> <span class="token punctuation" _ngcontent-yix-c36="">{</span> InsertChange <span class="token punctuation" _ngcontent-yix-c36="">}</span> <span class="token keyword" _ngcontent-yix-c36="">from</span> <span class="token string" _ngcontent-yix-c36="">'@schematics/angular/utility/change'</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>

<span class="token keyword" _ngcontent-yix-c36="">export</span> <span class="token keyword" _ngcontent-yix-c36="">function</span> <span class="token function" _ngcontent-yix-c36="">playground</span><span class="token punctuation" _ngcontent-yix-c36="">(</span>_options<span class="token operator" _ngcontent-yix-c36="">:</span> <span class="token builtin" _ngcontent-yix-c36="">any</span><span class="token punctuation" _ngcontent-yix-c36="">)</span><span class="token operator" _ngcontent-yix-c36="">:</span> Rule <span class="token punctuation" _ngcontent-yix-c36="">{</span>
  <span class="token keyword" _ngcontent-yix-c36="">return</span> <span class="token punctuation" _ngcontent-yix-c36="">(</span>tree<span class="token operator" _ngcontent-yix-c36="">:</span> Tree<span class="token punctuation" _ngcontent-yix-c36="">,</span> _context<span class="token operator" _ngcontent-yix-c36="">:</span> SchematicContext<span class="token punctuation" _ngcontent-yix-c36="">)</span> <span class="token operator" _ngcontent-yix-c36="">=&gt;</span> <span class="token punctuation" _ngcontent-yix-c36="">{</span>
    <span class="token keyword" _ngcontent-yix-c36="">const</span> filePath <span class="token operator" _ngcontent-yix-c36="">=</span> <span class="token string" _ngcontent-yix-c36="">'my-file.extension'</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
    tree<span class="token punctuation" _ngcontent-yix-c36="">.</span><span class="token function" _ngcontent-yix-c36="">create</span><span class="token punctuation" _ngcontent-yix-c36="">(</span>filePath<span class="token punctuation" _ngcontent-yix-c36="">,</span> <span class="token template-string" _ngcontent-yix-c36=""><span class="token template-punctuation string" _ngcontent-yix-c36="">`</span><span class="token string" _ngcontent-yix-c36="">const a = 'foo';</span><span class="token template-punctuation string" _ngcontent-yix-c36="">`</span></span><span class="token punctuation" _ngcontent-yix-c36="">)</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>

    <span class="token comment" _ngcontent-yix-c36="">// insert a new change</span>
    <span class="token keyword" _ngcontent-yix-c36="">const</span> insertChange <span class="token operator" _ngcontent-yix-c36="">=</span> <span class="token keyword" _ngcontent-yix-c36="">new</span> <span class="token class-name" _ngcontent-yix-c36="">InsertChange</span><span class="token punctuation" _ngcontent-yix-c36="">(</span>filePath<span class="token punctuation" _ngcontent-yix-c36="">,</span> <span class="token number" _ngcontent-yix-c36="">16</span><span class="token punctuation" _ngcontent-yix-c36="">,</span> <span class="token string" _ngcontent-yix-c36="">'\nconst b = \'bar\';'</span><span class="token punctuation" _ngcontent-yix-c36="">)</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
    <span class="token keyword" _ngcontent-yix-c36="">const</span> exportRecorder <span class="token operator" _ngcontent-yix-c36="">=</span> tree<span class="token punctuation" _ngcontent-yix-c36="">.</span><span class="token function" _ngcontent-yix-c36="">beginUpdate</span><span class="token punctuation" _ngcontent-yix-c36="">(</span>filePath<span class="token punctuation" _ngcontent-yix-c36="">)</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
    exportRecorder<span class="token punctuation" _ngcontent-yix-c36="">.</span><span class="token function" _ngcontent-yix-c36="">insertLeft</span><span class="token punctuation" _ngcontent-yix-c36="">(</span>insertChange<span class="token punctuation" _ngcontent-yix-c36="">.</span>pos<span class="token punctuation" _ngcontent-yix-c36="">,</span> insertChange<span class="token punctuation" _ngcontent-yix-c36="">.</span>toAdd<span class="token punctuation" _ngcontent-yix-c36="">)</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
    tree<span class="token punctuation" _ngcontent-yix-c36="">.</span><span class="token function" _ngcontent-yix-c36="">commitUpdate</span><span class="token punctuation" _ngcontent-yix-c36="">(</span>exportRecorder<span class="token punctuation" _ngcontent-yix-c36="">)</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
    <span class="token builtin" _ngcontent-yix-c36="">console</span><span class="token punctuation" _ngcontent-yix-c36="">.</span><span class="token function" _ngcontent-yix-c36="">log</span><span class="token punctuation" _ngcontent-yix-c36="">(</span>tree<span class="token punctuation" _ngcontent-yix-c36="">.</span><span class="token function" _ngcontent-yix-c36="">get</span><span class="token punctuation" _ngcontent-yix-c36="">(</span>filePath<span class="token punctuation" _ngcontent-yix-c36="">)</span><span class="token operator" _ngcontent-yix-c36="">?.</span>content<span class="token punctuation" _ngcontent-yix-c36="">.</span><span class="token function" _ngcontent-yix-c36="">toString</span><span class="token punctuation" _ngcontent-yix-c36="">(</span><span class="token punctuation" _ngcontent-yix-c36="">)</span><span class="token punctuation" _ngcontent-yix-c36="">)</span>
    <span class="token comment" _ngcontent-yix-c36="">// const a = 'foo';</span>
    <span class="token comment" _ngcontent-yix-c36="">// const b = 'bar';</span>

    tree<span class="token punctuation" _ngcontent-yix-c36="">.</span><span class="token function" _ngcontent-yix-c36="">delete</span><span class="token punctuation" _ngcontent-yix-c36="">(</span>filePath<span class="token punctuation" _ngcontent-yix-c36="">)</span><span class="token punctuation" _ngcontent-yix-c36="">;</span> <span class="token comment" _ngcontent-yix-c36="">// cleanup (if not running schematic in debug mode)</span>
    <span class="token keyword" _ngcontent-yix-c36="">return</span> tree<span class="token punctuation" _ngcontent-yix-c36="">;</span>
  <span class="token punctuation" _ngcontent-yix-c36="">}</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
<span class="token punctuation" _ngcontent-yix-c36="">}</span></code></pre><ul _ngcontent-yix-c36=""><li _ngcontent-yix-c36=""><a href="https://github.com/angular/angular-cli/blob/master/packages/schematics/angular/utility/change.ts" _ngcontent-yix-c36="" rel="noreferrer noopener">Check out the implementation for <code _ngcontent-yix-c36="">InsertChange</code> in detail.</a></li><li _ngcontent-yix-c36=""><a href="https://github.com/d-koppenhagen/schematics-helpers-playground/tree/master/playground/src/insert" _ngcontent-yix-c36="" rel="noreferrer noopener">Check out the example in the playground repository on GitHub</a></li></ul><h2 id="determine-relative-path-to-the-project-root" _ngcontent-yix-c36="">Determine relative path to the project root</h2><p _ngcontent-yix-c36="">You might want to determine the relative path to your project root e.g. for using it in a template you want to apply in some location of your application. To determine the correct relative import path string for the target, you can use the helper function <code _ngcontent-yix-c36="">relativePathToWorkspaceRoot()</code>.</p><pre class="language-ts" _ngcontent-yix-c36=""><code class="language-ts" _ngcontent-yix-c36=""><span class="token keyword" _ngcontent-yix-c36="">import</span> <span class="token punctuation" _ngcontent-yix-c36="">{</span>
  Rule<span class="token punctuation" _ngcontent-yix-c36="">,</span>
  SchematicContext<span class="token punctuation" _ngcontent-yix-c36="">,</span>
  Tree<span class="token punctuation" _ngcontent-yix-c36="">,</span>
  url<span class="token punctuation" _ngcontent-yix-c36="">,</span>
  apply<span class="token punctuation" _ngcontent-yix-c36="">,</span>
  template<span class="token punctuation" _ngcontent-yix-c36="">,</span>
  mergeWith
<span class="token punctuation" _ngcontent-yix-c36="">}</span> <span class="token keyword" _ngcontent-yix-c36="">from</span> <span class="token string" _ngcontent-yix-c36="">'@angular-devkit/schematics/'</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
<span class="token keyword" _ngcontent-yix-c36="">import</span> <span class="token punctuation" _ngcontent-yix-c36="">{</span> relativePathToWorkspaceRoot <span class="token punctuation" _ngcontent-yix-c36="">}</span> <span class="token keyword" _ngcontent-yix-c36="">from</span> <span class="token string" _ngcontent-yix-c36="">'@schematics/angular/utility/paths'</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>

<span class="token keyword" _ngcontent-yix-c36="">export</span> <span class="token keyword" _ngcontent-yix-c36="">function</span> <span class="token function" _ngcontent-yix-c36="">playground</span><span class="token punctuation" _ngcontent-yix-c36="">(</span>_options<span class="token operator" _ngcontent-yix-c36="">:</span> <span class="token builtin" _ngcontent-yix-c36="">any</span><span class="token punctuation" _ngcontent-yix-c36="">)</span><span class="token operator" _ngcontent-yix-c36="">:</span> Rule <span class="token punctuation" _ngcontent-yix-c36="">{</span>
  <span class="token keyword" _ngcontent-yix-c36="">return</span> <span class="token punctuation" _ngcontent-yix-c36="">(</span>_tree<span class="token operator" _ngcontent-yix-c36="">:</span> Tree<span class="token punctuation" _ngcontent-yix-c36="">,</span> _context<span class="token operator" _ngcontent-yix-c36="">:</span> SchematicContext<span class="token punctuation" _ngcontent-yix-c36="">)</span> <span class="token operator" _ngcontent-yix-c36="">=&gt;</span> <span class="token punctuation" _ngcontent-yix-c36="">{</span>
    <span class="token keyword" _ngcontent-yix-c36="">const</span> nonRootPathDefinition <span class="token operator" _ngcontent-yix-c36="">=</span> <span class="token string" _ngcontent-yix-c36="">'foo/bar/'</span><span class="token punctuation" _ngcontent-yix-c36="">;</span> <span class="token comment" _ngcontent-yix-c36="">// "./foo/bar" | "foo/bar/" work also</span>
    <span class="token keyword" _ngcontent-yix-c36="">const</span> rootPathDefinition <span class="token operator" _ngcontent-yix-c36="">=</span> <span class="token string" _ngcontent-yix-c36="">''</span><span class="token punctuation" _ngcontent-yix-c36="">;</span> <span class="token comment" _ngcontent-yix-c36="">// "." | "./" work also</span>
    <span class="token builtin" _ngcontent-yix-c36="">console</span><span class="token punctuation" _ngcontent-yix-c36="">.</span><span class="token function" _ngcontent-yix-c36="">log</span><span class="token punctuation" _ngcontent-yix-c36="">(</span><span class="token function" _ngcontent-yix-c36="">relativePathToWorkspaceRoot</span><span class="token punctuation" _ngcontent-yix-c36="">(</span>nonRootPathDefinition<span class="token punctuation" _ngcontent-yix-c36="">)</span><span class="token punctuation" _ngcontent-yix-c36="">)</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
    <span class="token comment" _ngcontent-yix-c36="">// "../.."</span>
    <span class="token builtin" _ngcontent-yix-c36="">console</span><span class="token punctuation" _ngcontent-yix-c36="">.</span><span class="token function" _ngcontent-yix-c36="">log</span><span class="token punctuation" _ngcontent-yix-c36="">(</span><span class="token function" _ngcontent-yix-c36="">relativePathToWorkspaceRoot</span><span class="token punctuation" _ngcontent-yix-c36="">(</span>rootPathDefinition<span class="token punctuation" _ngcontent-yix-c36="">)</span><span class="token punctuation" _ngcontent-yix-c36="">)</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
    <span class="token comment" _ngcontent-yix-c36="">// "."</span>

    <span class="token keyword" _ngcontent-yix-c36="">const</span> sourceTemplates <span class="token operator" _ngcontent-yix-c36="">=</span> <span class="token function" _ngcontent-yix-c36="">url</span><span class="token punctuation" _ngcontent-yix-c36="">(</span><span class="token string" _ngcontent-yix-c36="">'./files'</span><span class="token punctuation" _ngcontent-yix-c36="">)</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
    <span class="token keyword" _ngcontent-yix-c36="">return</span> <span class="token function" _ngcontent-yix-c36="">mergeWith</span><span class="token punctuation" _ngcontent-yix-c36="">(</span>
      <span class="token function" _ngcontent-yix-c36="">apply</span><span class="token punctuation" _ngcontent-yix-c36="">(</span>
        sourceTemplates<span class="token punctuation" _ngcontent-yix-c36="">,</span> <span class="token punctuation" _ngcontent-yix-c36="">[</span>
          <span class="token function" _ngcontent-yix-c36="">template</span><span class="token punctuation" _ngcontent-yix-c36="">(</span><span class="token punctuation" _ngcontent-yix-c36="">{</span>
            relativePathToWorkspaceRoot<span class="token operator" _ngcontent-yix-c36="">:</span> <span class="token function" _ngcontent-yix-c36="">relativePathToWorkspaceRoot</span><span class="token punctuation" _ngcontent-yix-c36="">(</span>nonRootPathDefinition<span class="token punctuation" _ngcontent-yix-c36="">)</span><span class="token punctuation" _ngcontent-yix-c36="">,</span>
          <span class="token punctuation" _ngcontent-yix-c36="">}</span><span class="token punctuation" _ngcontent-yix-c36="">)</span><span class="token punctuation" _ngcontent-yix-c36="">,</span>
        <span class="token punctuation" _ngcontent-yix-c36="">]</span>
      <span class="token punctuation" _ngcontent-yix-c36="">)</span>
    <span class="token punctuation" _ngcontent-yix-c36="">)</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
  <span class="token punctuation" _ngcontent-yix-c36="">}</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
<span class="token punctuation" _ngcontent-yix-c36="">}</span></code></pre><p _ngcontent-yix-c36="">If you have e.g. a JSON file template in the directory <code _ngcontent-yix-c36="">files</code> and you want to insert the path, you can use the helper function in the template as follows:</p><pre class="language-json" _ngcontent-yix-c36=""><code class="language-json" _ngcontent-yix-c36=""><span class="token punctuation" _ngcontent-yix-c36="">{</span>
  <span class="token property" _ngcontent-yix-c36="">"foo"</span><span class="token operator" _ngcontent-yix-c36="">:</span> <span class="token string" _ngcontent-yix-c36="">"&lt;%= relativePathToWorkspaceRoot %&gt;/my-file-ref.json"</span>
<span class="token punctuation" _ngcontent-yix-c36="">}</span></code></pre><p _ngcontent-yix-c36="">For more details about how to use and apply templates in your own schematics, check out the <a href="https://medium.com/@tomastrajan/total-guide-to-custom-angular-schematics-5c50cf90cdb4" _ngcontent-yix-c36="" rel="noreferrer noopener">blog post by Tomas Trajan: <em _ngcontent-yix-c36="">"Total Guide To Custom Angular schematics"</em></a> and the <a href="https://indepth.dev/angular-schematics-from-0-to-publishing-your-own-library-i" _ngcontent-yix-c36="" rel="noreferrer noopener">article series <em _ngcontent-yix-c36="">"Angular Schematics from 0 to publishing your own library"</em> by Natalia Venditto</a>.</p><ul _ngcontent-yix-c36=""><li _ngcontent-yix-c36=""><a href="https://github.com/angular/angular-cli/blob/master/packages/schematics/angular/utility/paths.ts" _ngcontent-yix-c36="" rel="noreferrer noopener">Check out the implementation for <code _ngcontent-yix-c36="">relativePathToWorkspaceRoot()</code> in detail.</a></li><li _ngcontent-yix-c36=""><a href="https://github.com/d-koppenhagen/schematics-helpers-playground/tree/master/playground/src/relative-path" _ngcontent-yix-c36="" rel="noreferrer noopener">Check out the example in the playground repository on GitHub</a></li></ul><h2 id="add-typescript-imports" _ngcontent-yix-c36="">Add TypeScript imports</h2><p _ngcontent-yix-c36="">In the previous section we learned how to add content to some file. However, this way for changing a file isn't the best and only works well when we know the exact position where to add some content. Now imagine a user changes the format of the file before: This would lead to problems with finding the correct file position.</p><p _ngcontent-yix-c36="">In many cases we want to modify TypeScript files and insert code into them. And indeed there are also lots of utils that will help us to manage such operations.</p><p _ngcontent-yix-c36="">Imagine you want the schematic to import the class <code _ngcontent-yix-c36="">Bar</code> in a specific file from the file <code _ngcontent-yix-c36="">bar.ts</code>; You could simply add the whole import line but there are edge cases: What if the target file already contains an import or even a default import from <code _ngcontent-yix-c36="">bar.ts</code>. In that case we would have multiple import lines for <code _ngcontent-yix-c36="">bar.ts</code> which causes problems.</p><p _ngcontent-yix-c36="">Luckily there is another great helper that takes care of adding imports or updating existing ones. The function <code _ngcontent-yix-c36="">insertImport()</code> needs the source file to update and the path to the file followed by the import name and the file path for the import to be added. The last parameter is optional – if set to <code _ngcontent-yix-c36="">true</code>, the import will be added as a default import.</p><pre class="language-ts" _ngcontent-yix-c36=""><code class="language-ts" _ngcontent-yix-c36=""><span class="token keyword" _ngcontent-yix-c36="">import</span> <span class="token operator" _ngcontent-yix-c36="">*</span> <span class="token keyword" _ngcontent-yix-c36="">as</span> ts <span class="token keyword" _ngcontent-yix-c36="">from</span> <span class="token string" _ngcontent-yix-c36="">'typescript'</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
<span class="token keyword" _ngcontent-yix-c36="">import</span> <span class="token punctuation" _ngcontent-yix-c36="">{</span> Rule<span class="token punctuation" _ngcontent-yix-c36="">,</span> SchematicContext<span class="token punctuation" _ngcontent-yix-c36="">,</span> Tree <span class="token punctuation" _ngcontent-yix-c36="">}</span> <span class="token keyword" _ngcontent-yix-c36="">from</span> <span class="token string" _ngcontent-yix-c36="">'@angular-devkit/schematics/'</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
<span class="token keyword" _ngcontent-yix-c36="">import</span> <span class="token punctuation" _ngcontent-yix-c36="">{</span> insertImport <span class="token punctuation" _ngcontent-yix-c36="">}</span> <span class="token keyword" _ngcontent-yix-c36="">from</span> <span class="token string" _ngcontent-yix-c36="">'@schematics/angular/utility/ast-utils'</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
<span class="token keyword" _ngcontent-yix-c36="">import</span> <span class="token punctuation" _ngcontent-yix-c36="">{</span> InsertChange <span class="token punctuation" _ngcontent-yix-c36="">}</span> <span class="token keyword" _ngcontent-yix-c36="">from</span> <span class="token string" _ngcontent-yix-c36="">'@schematics/angular/utility/change'</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>

<span class="token keyword" _ngcontent-yix-c36="">export</span> <span class="token keyword" _ngcontent-yix-c36="">function</span> <span class="token function" _ngcontent-yix-c36="">playground</span><span class="token punctuation" _ngcontent-yix-c36="">(</span>_options<span class="token operator" _ngcontent-yix-c36="">:</span> <span class="token builtin" _ngcontent-yix-c36="">any</span><span class="token punctuation" _ngcontent-yix-c36="">)</span><span class="token operator" _ngcontent-yix-c36="">:</span> Rule <span class="token punctuation" _ngcontent-yix-c36="">{</span>
  <span class="token keyword" _ngcontent-yix-c36="">return</span> <span class="token punctuation" _ngcontent-yix-c36="">(</span>tree<span class="token operator" _ngcontent-yix-c36="">:</span> Tree<span class="token punctuation" _ngcontent-yix-c36="">,</span> _context<span class="token operator" _ngcontent-yix-c36="">:</span> SchematicContext<span class="token punctuation" _ngcontent-yix-c36="">)</span> <span class="token operator" _ngcontent-yix-c36="">=&gt;</span> <span class="token punctuation" _ngcontent-yix-c36="">{</span>
    <span class="token keyword" _ngcontent-yix-c36="">const</span> filePath <span class="token operator" _ngcontent-yix-c36="">=</span> <span class="token string" _ngcontent-yix-c36="">'some-file.ts'</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
    <span class="token keyword" _ngcontent-yix-c36="">const</span> fileContent <span class="token operator" _ngcontent-yix-c36="">=</span> <span class="token template-string" _ngcontent-yix-c36=""><span class="token template-punctuation string" _ngcontent-yix-c36="">`</span><span class="token string" _ngcontent-yix-c36="">import { Foo } from 'foo';
const bar = 'bar;
</span><span class="token template-punctuation string" _ngcontent-yix-c36="">`</span></span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
    tree<span class="token punctuation" _ngcontent-yix-c36="">.</span><span class="token function" _ngcontent-yix-c36="">create</span><span class="token punctuation" _ngcontent-yix-c36="">(</span>filePath<span class="token punctuation" _ngcontent-yix-c36="">,</span> fileContent<span class="token punctuation" _ngcontent-yix-c36="">)</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
    <span class="token keyword" _ngcontent-yix-c36="">const</span> source <span class="token operator" _ngcontent-yix-c36="">=</span> ts<span class="token punctuation" _ngcontent-yix-c36="">.</span><span class="token function" _ngcontent-yix-c36="">createSourceFile</span><span class="token punctuation" _ngcontent-yix-c36="">(</span>
      filePath<span class="token punctuation" _ngcontent-yix-c36="">,</span>
      fileContent<span class="token punctuation" _ngcontent-yix-c36="">,</span>
      ts<span class="token punctuation" _ngcontent-yix-c36="">.</span>ScriptTarget<span class="token punctuation" _ngcontent-yix-c36="">.</span>Latest<span class="token punctuation" _ngcontent-yix-c36="">,</span>
      <span class="token boolean" _ngcontent-yix-c36="">true</span>
    <span class="token punctuation" _ngcontent-yix-c36="">)</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
    <span class="token keyword" _ngcontent-yix-c36="">const</span> updateRecorder <span class="token operator" _ngcontent-yix-c36="">=</span> tree<span class="token punctuation" _ngcontent-yix-c36="">.</span><span class="token function" _ngcontent-yix-c36="">beginUpdate</span><span class="token punctuation" _ngcontent-yix-c36="">(</span>filePath<span class="token punctuation" _ngcontent-yix-c36="">)</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
    <span class="token keyword" _ngcontent-yix-c36="">const</span> change <span class="token operator" _ngcontent-yix-c36="">=</span> <span class="token function" _ngcontent-yix-c36="">insertImport</span><span class="token punctuation" _ngcontent-yix-c36="">(</span>source<span class="token punctuation" _ngcontent-yix-c36="">,</span> filePath<span class="token punctuation" _ngcontent-yix-c36="">,</span> <span class="token string" _ngcontent-yix-c36="">'Bar'</span><span class="token punctuation" _ngcontent-yix-c36="">,</span> <span class="token string" _ngcontent-yix-c36="">'./bar'</span><span class="token punctuation" _ngcontent-yix-c36="">,</span> <span class="token boolean" _ngcontent-yix-c36="">true</span><span class="token punctuation" _ngcontent-yix-c36="">)</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
    <span class="token keyword" _ngcontent-yix-c36="">if</span> <span class="token punctuation" _ngcontent-yix-c36="">(</span>change <span class="token keyword" _ngcontent-yix-c36="">instanceof</span> <span class="token class-name" _ngcontent-yix-c36="">InsertChange</span><span class="token punctuation" _ngcontent-yix-c36="">)</span> <span class="token punctuation" _ngcontent-yix-c36="">{</span>
      updateRecorder<span class="token punctuation" _ngcontent-yix-c36="">.</span><span class="token function" _ngcontent-yix-c36="">insertRight</span><span class="token punctuation" _ngcontent-yix-c36="">(</span>change<span class="token punctuation" _ngcontent-yix-c36="">.</span>pos<span class="token punctuation" _ngcontent-yix-c36="">,</span> change<span class="token punctuation" _ngcontent-yix-c36="">.</span>toAdd<span class="token punctuation" _ngcontent-yix-c36="">)</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
    <span class="token punctuation" _ngcontent-yix-c36="">}</span>
    tree<span class="token punctuation" _ngcontent-yix-c36="">.</span><span class="token function" _ngcontent-yix-c36="">commitUpdate</span><span class="token punctuation" _ngcontent-yix-c36="">(</span>updateRecorder<span class="token punctuation" _ngcontent-yix-c36="">)</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
    <span class="token builtin" _ngcontent-yix-c36="">console</span><span class="token punctuation" _ngcontent-yix-c36="">.</span><span class="token function" _ngcontent-yix-c36="">log</span><span class="token punctuation" _ngcontent-yix-c36="">(</span>tree<span class="token punctuation" _ngcontent-yix-c36="">.</span><span class="token function" _ngcontent-yix-c36="">get</span><span class="token punctuation" _ngcontent-yix-c36="">(</span>filePath<span class="token punctuation" _ngcontent-yix-c36="">)</span><span class="token operator" _ngcontent-yix-c36="">?.</span>content<span class="token punctuation" _ngcontent-yix-c36="">.</span><span class="token function" _ngcontent-yix-c36="">toString</span><span class="token punctuation" _ngcontent-yix-c36="">(</span><span class="token punctuation" _ngcontent-yix-c36="">)</span><span class="token punctuation" _ngcontent-yix-c36="">)</span>
    <span class="token keyword" _ngcontent-yix-c36="">return</span> tree<span class="token punctuation" _ngcontent-yix-c36="">;</span>
  <span class="token punctuation" _ngcontent-yix-c36="">}</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
<span class="token punctuation" _ngcontent-yix-c36="">}</span></code></pre><p _ngcontent-yix-c36="">The example above will add the content <code _ngcontent-yix-c36="">import Bar from './bar';</code> right before the constant. As we marked it as default import, the import name is not put in curly braces (<code _ngcontent-yix-c36="">{ }</code>).</p><ul _ngcontent-yix-c36=""><li _ngcontent-yix-c36=""><a href="https://github.com/angular/angular-cli/blob/master/packages/schematics/angular/utility/change.ts" _ngcontent-yix-c36="" rel="noreferrer noopener">Check out the implementation for <code _ngcontent-yix-c36="">insertImport()</code> in detail.</a></li><li _ngcontent-yix-c36=""><a href="https://github.com/d-koppenhagen/schematics-helpers-playground/tree/master/playground/src/import" _ngcontent-yix-c36="" rel="noreferrer noopener">Check out the example in the playground repository on GitHub</a></li></ul><h2 id="update-ngmodule" _ngcontent-yix-c36="">Update <code _ngcontent-yix-c36="">NgModule</code></h2><p _ngcontent-yix-c36="">Now we know how we can modify TypeScript imports using the util functions. However, just importing something isn't enough in most cases. There are common things like importing a component and adding it to the <code _ngcontent-yix-c36="">NgModule</code> in the <code _ngcontent-yix-c36="">declarations</code> array or inserting a module in the <code _ngcontent-yix-c36="">imports</code> section. Luckily, there are some helpers provided for these operations. These function also based on the <code _ngcontent-yix-c36="">insertImport()</code> function, so that they will handle existing file imports and just update the import lists accordingly.</p><h3 id="add-a-declaration-to-a-module" _ngcontent-yix-c36="">Add a declaration to a module</h3><p _ngcontent-yix-c36="">The first thing I want to show you is how you can add a component to the <code _ngcontent-yix-c36="">declarations</code> of an <code _ngcontent-yix-c36="">NgModule</code>. For this, let's assume you create a schematic that adds a new <code _ngcontent-yix-c36="">DashboardComponent</code> to your project. You don't need to add the import manually and then determine the right place to insert the component to the <code _ngcontent-yix-c36="">declarations</code> of the <code _ngcontent-yix-c36="">NgModule</code>. Instead, you can use the <code _ngcontent-yix-c36="">addDeclarationToModule()</code> function exported from <code _ngcontent-yix-c36="">@schematics/angular/utility/ast-utils</code>.</p><p _ngcontent-yix-c36="">In the following example we will create an <code _ngcontent-yix-c36="">AppModule</code> from the <code _ngcontent-yix-c36="">moduleContent</code> using <code _ngcontent-yix-c36="">ts.createSourceFile()</code> first. Then we will register the <code _ngcontent-yix-c36="">updateRecorder</code> as learned in the examples before. Now we call the <code _ngcontent-yix-c36="">addDeclarationToModule()</code> function with the source file and the module path followed by the name of the component we want to import and the relative path to the module where we can find the component. As a result it returns us an array of <code _ngcontent-yix-c36="">Change</code> objects that contain the positions and the contents for the change. Finally, we can handle these changes one-by-one by iterating over the array. For all changes of type <code _ngcontent-yix-c36="">InsertChange</code> we can now call the method <code _ngcontent-yix-c36="">updateRecorder.insertleft()</code> with the position of the change and the content to be added.</p><pre class="language-ts" _ngcontent-yix-c36=""><code class="language-ts" _ngcontent-yix-c36=""><span class="token keyword" _ngcontent-yix-c36="">import</span> <span class="token operator" _ngcontent-yix-c36="">*</span> <span class="token keyword" _ngcontent-yix-c36="">as</span> ts <span class="token keyword" _ngcontent-yix-c36="">from</span> <span class="token string" _ngcontent-yix-c36="">'typescript'</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
<span class="token keyword" _ngcontent-yix-c36="">import</span> <span class="token punctuation" _ngcontent-yix-c36="">{</span> Rule<span class="token punctuation" _ngcontent-yix-c36="">,</span> SchematicContext<span class="token punctuation" _ngcontent-yix-c36="">,</span> Tree <span class="token punctuation" _ngcontent-yix-c36="">}</span> <span class="token keyword" _ngcontent-yix-c36="">from</span> <span class="token string" _ngcontent-yix-c36="">'@angular-devkit/schematics/'</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
<span class="token keyword" _ngcontent-yix-c36="">import</span> <span class="token punctuation" _ngcontent-yix-c36="">{</span> addDeclarationToModule <span class="token punctuation" _ngcontent-yix-c36="">}</span> <span class="token keyword" _ngcontent-yix-c36="">from</span> <span class="token string" _ngcontent-yix-c36="">'@schematics/angular/utility/ast-utils'</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
<span class="token keyword" _ngcontent-yix-c36="">import</span> <span class="token punctuation" _ngcontent-yix-c36="">{</span> InsertChange <span class="token punctuation" _ngcontent-yix-c36="">}</span> <span class="token keyword" _ngcontent-yix-c36="">from</span> <span class="token string" _ngcontent-yix-c36="">'@schematics/angular/utility/change'</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>

<span class="token keyword" _ngcontent-yix-c36="">export</span> <span class="token keyword" _ngcontent-yix-c36="">function</span> <span class="token function" _ngcontent-yix-c36="">playground</span><span class="token punctuation" _ngcontent-yix-c36="">(</span>_options<span class="token operator" _ngcontent-yix-c36="">:</span> <span class="token builtin" _ngcontent-yix-c36="">any</span><span class="token punctuation" _ngcontent-yix-c36="">)</span><span class="token operator" _ngcontent-yix-c36="">:</span> Rule <span class="token punctuation" _ngcontent-yix-c36="">{</span>
  <span class="token keyword" _ngcontent-yix-c36="">return</span> <span class="token punctuation" _ngcontent-yix-c36="">(</span>tree<span class="token operator" _ngcontent-yix-c36="">:</span> Tree<span class="token punctuation" _ngcontent-yix-c36="">,</span> _context<span class="token operator" _ngcontent-yix-c36="">:</span> SchematicContext<span class="token punctuation" _ngcontent-yix-c36="">)</span> <span class="token operator" _ngcontent-yix-c36="">=&gt;</span> <span class="token punctuation" _ngcontent-yix-c36="">{</span>
    <span class="token keyword" _ngcontent-yix-c36="">const</span> modulePath <span class="token operator" _ngcontent-yix-c36="">=</span> <span class="token string" _ngcontent-yix-c36="">'app.module.ts'</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
    <span class="token keyword" _ngcontent-yix-c36="">const</span> moduleContent <span class="token operator" _ngcontent-yix-c36="">=</span> <span class="token template-string" _ngcontent-yix-c36=""><span class="token template-punctuation string" _ngcontent-yix-c36="">`</span><span class="token string" _ngcontent-yix-c36="">import { BrowserModule } from '@angular/platform-browser';
import { NgModule } from '@angular/core';
import { AppComponent } from './app.component';

@NgModule({
  declarations: [
    AppComponent
  ],
  imports: [
    BrowserModule
  ],
  providers: [],
  bootstrap: [AppComponent]
})
export class AppModule { }
</span><span class="token template-punctuation string" _ngcontent-yix-c36="">`</span></span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
    tree<span class="token punctuation" _ngcontent-yix-c36="">.</span><span class="token function" _ngcontent-yix-c36="">create</span><span class="token punctuation" _ngcontent-yix-c36="">(</span>modulePath<span class="token punctuation" _ngcontent-yix-c36="">,</span> moduleContent<span class="token punctuation" _ngcontent-yix-c36="">)</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>

    <span class="token keyword" _ngcontent-yix-c36="">const</span> source <span class="token operator" _ngcontent-yix-c36="">=</span> ts<span class="token punctuation" _ngcontent-yix-c36="">.</span><span class="token function" _ngcontent-yix-c36="">createSourceFile</span><span class="token punctuation" _ngcontent-yix-c36="">(</span>
      modulePath<span class="token punctuation" _ngcontent-yix-c36="">,</span>
      moduleContent<span class="token punctuation" _ngcontent-yix-c36="">,</span>
      ts<span class="token punctuation" _ngcontent-yix-c36="">.</span>ScriptTarget<span class="token punctuation" _ngcontent-yix-c36="">.</span>Latest<span class="token punctuation" _ngcontent-yix-c36="">,</span>
      <span class="token boolean" _ngcontent-yix-c36="">true</span>
    <span class="token punctuation" _ngcontent-yix-c36="">)</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
    <span class="token keyword" _ngcontent-yix-c36="">const</span> updateRecorder <span class="token operator" _ngcontent-yix-c36="">=</span> tree<span class="token punctuation" _ngcontent-yix-c36="">.</span><span class="token function" _ngcontent-yix-c36="">beginUpdate</span><span class="token punctuation" _ngcontent-yix-c36="">(</span>modulePath<span class="token punctuation" _ngcontent-yix-c36="">)</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
    <span class="token keyword" _ngcontent-yix-c36="">const</span> changes <span class="token operator" _ngcontent-yix-c36="">=</span> <span class="token function" _ngcontent-yix-c36="">addDeclarationToModule</span><span class="token punctuation" _ngcontent-yix-c36="">(</span>
      source<span class="token punctuation" _ngcontent-yix-c36="">,</span>
      modulePath<span class="token punctuation" _ngcontent-yix-c36="">,</span>
      <span class="token string" _ngcontent-yix-c36="">'DashboardComponent'</span><span class="token punctuation" _ngcontent-yix-c36="">,</span>
      <span class="token string" _ngcontent-yix-c36="">'./dashboard.component'</span>
    <span class="token punctuation" _ngcontent-yix-c36="">)</span> <span class="token keyword" _ngcontent-yix-c36="">as</span> InsertChange<span class="token punctuation" _ngcontent-yix-c36="">[</span><span class="token punctuation" _ngcontent-yix-c36="">]</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
    <span class="token keyword" _ngcontent-yix-c36="">for</span> <span class="token punctuation" _ngcontent-yix-c36="">(</span><span class="token keyword" _ngcontent-yix-c36="">const</span> change <span class="token keyword" _ngcontent-yix-c36="">of</span> changes<span class="token punctuation" _ngcontent-yix-c36="">)</span> <span class="token punctuation" _ngcontent-yix-c36="">{</span>
      <span class="token keyword" _ngcontent-yix-c36="">if</span> <span class="token punctuation" _ngcontent-yix-c36="">(</span>change <span class="token keyword" _ngcontent-yix-c36="">instanceof</span> <span class="token class-name" _ngcontent-yix-c36="">InsertChange</span><span class="token punctuation" _ngcontent-yix-c36="">)</span> <span class="token punctuation" _ngcontent-yix-c36="">{</span>
        updateRecorder<span class="token punctuation" _ngcontent-yix-c36="">.</span><span class="token function" _ngcontent-yix-c36="">insertLeft</span><span class="token punctuation" _ngcontent-yix-c36="">(</span>change<span class="token punctuation" _ngcontent-yix-c36="">.</span>pos<span class="token punctuation" _ngcontent-yix-c36="">,</span> change<span class="token punctuation" _ngcontent-yix-c36="">.</span>toAdd<span class="token punctuation" _ngcontent-yix-c36="">)</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
      <span class="token punctuation" _ngcontent-yix-c36="">}</span>
    <span class="token punctuation" _ngcontent-yix-c36="">}</span>
    tree<span class="token punctuation" _ngcontent-yix-c36="">.</span><span class="token function" _ngcontent-yix-c36="">commitUpdate</span><span class="token punctuation" _ngcontent-yix-c36="">(</span>updateRecorder<span class="token punctuation" _ngcontent-yix-c36="">)</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
    <span class="token builtin" _ngcontent-yix-c36="">console</span><span class="token punctuation" _ngcontent-yix-c36="">.</span><span class="token function" _ngcontent-yix-c36="">log</span><span class="token punctuation" _ngcontent-yix-c36="">(</span>tree<span class="token punctuation" _ngcontent-yix-c36="">.</span><span class="token function" _ngcontent-yix-c36="">get</span><span class="token punctuation" _ngcontent-yix-c36="">(</span>modulePath<span class="token punctuation" _ngcontent-yix-c36="">)</span><span class="token operator" _ngcontent-yix-c36="">?.</span>content<span class="token punctuation" _ngcontent-yix-c36="">.</span><span class="token function" _ngcontent-yix-c36="">toString</span><span class="token punctuation" _ngcontent-yix-c36="">(</span><span class="token punctuation" _ngcontent-yix-c36="">)</span><span class="token punctuation" _ngcontent-yix-c36="">)</span>

    <span class="token keyword" _ngcontent-yix-c36="">return</span> tree<span class="token punctuation" _ngcontent-yix-c36="">;</span>
  <span class="token punctuation" _ngcontent-yix-c36="">}</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
<span class="token punctuation" _ngcontent-yix-c36="">}</span></code></pre><p _ngcontent-yix-c36="">When we execute this schematic now, we can see in the log that the following import line has been added to the file:</p><pre class="language-ts" _ngcontent-yix-c36=""><code class="language-ts" _ngcontent-yix-c36=""><span class="token comment" _ngcontent-yix-c36="">/* ... */</span>
<span class="token keyword" _ngcontent-yix-c36="">import</span> <span class="token punctuation" _ngcontent-yix-c36="">{</span> DashboardComponent <span class="token punctuation" _ngcontent-yix-c36="">}</span> <span class="token keyword" _ngcontent-yix-c36="">from</span> <span class="token string" _ngcontent-yix-c36="">'./dashboard.component'</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>

<span class="token decorator" _ngcontent-yix-c36=""><span class="token at operator" _ngcontent-yix-c36="">@</span><span class="token function" _ngcontent-yix-c36="">NgModule</span></span><span class="token punctuation" _ngcontent-yix-c36="">(</span><span class="token punctuation" _ngcontent-yix-c36="">{</span>
  declarations<span class="token operator" _ngcontent-yix-c36="">:</span> <span class="token punctuation" _ngcontent-yix-c36="">[</span>
    AppComponent<span class="token punctuation" _ngcontent-yix-c36="">,</span>
    DashboardComponent
  <span class="token punctuation" _ngcontent-yix-c36="">]</span><span class="token punctuation" _ngcontent-yix-c36="">,</span>
  <span class="token comment" _ngcontent-yix-c36="">/* ... */</span>
<span class="token punctuation" _ngcontent-yix-c36="">}</span><span class="token punctuation" _ngcontent-yix-c36="">)</span>
<span class="token keyword" _ngcontent-yix-c36="">export</span> <span class="token keyword" _ngcontent-yix-c36="">class</span> <span class="token class-name" _ngcontent-yix-c36="">AppModule</span> <span class="token punctuation" _ngcontent-yix-c36="">{</span> <span class="token punctuation" _ngcontent-yix-c36="">}</span></code></pre><h3 id="ngmodule-add-imports-exports-providers-and-bootstrap" _ngcontent-yix-c36=""><code _ngcontent-yix-c36="">NgModule</code>: add <code _ngcontent-yix-c36="">imports</code>, <code _ngcontent-yix-c36="">exports</code>, <code _ngcontent-yix-c36="">providers</code>, and <code _ngcontent-yix-c36="">bootstrap</code></h3><p _ngcontent-yix-c36="">Similar to the previous example we can re-export something we imported by using the <code _ngcontent-yix-c36="">addExportToModule()</code> function and adding an import to the <code _ngcontent-yix-c36="">NgModule</code> by using <code _ngcontent-yix-c36="">addImportToModule()</code>. We can also modify the <code _ngcontent-yix-c36="">providers</code>, and <code _ngcontent-yix-c36="">bootstrap</code> arrays by using <code _ngcontent-yix-c36="">addProviderToModule()</code> and <code _ngcontent-yix-c36="">addBootstrapToModule()</code>. Again, it will take care of all the things necessary such as extending and creating imports, checking for existing entries in the <code _ngcontent-yix-c36="">NgModule</code> metadata and much more.</p><pre class="language-ts" _ngcontent-yix-c36=""><code class="language-ts" _ngcontent-yix-c36=""><span class="token comment" _ngcontent-yix-c36="">/* ... */</span>
<span class="token keyword" _ngcontent-yix-c36="">import</span> <span class="token punctuation" _ngcontent-yix-c36="">{</span>
  addImportToModule<span class="token punctuation" _ngcontent-yix-c36="">,</span>
  addExportToModule<span class="token punctuation" _ngcontent-yix-c36="">,</span>
  addProviderToModule<span class="token punctuation" _ngcontent-yix-c36="">,</span>
  addBootstrapToModule
<span class="token punctuation" _ngcontent-yix-c36="">}</span> <span class="token keyword" _ngcontent-yix-c36="">from</span> <span class="token string" _ngcontent-yix-c36="">'@schematics/angular/utility/ast-utils'</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
<span class="token comment" _ngcontent-yix-c36="">/* ... */</span>

<span class="token keyword" _ngcontent-yix-c36="">export</span> <span class="token keyword" _ngcontent-yix-c36="">function</span> <span class="token function" _ngcontent-yix-c36="">playground</span><span class="token punctuation" _ngcontent-yix-c36="">(</span>_options<span class="token operator" _ngcontent-yix-c36="">:</span> <span class="token builtin" _ngcontent-yix-c36="">any</span><span class="token punctuation" _ngcontent-yix-c36="">)</span><span class="token operator" _ngcontent-yix-c36="">:</span> Rule <span class="token punctuation" _ngcontent-yix-c36="">{</span>
  <span class="token keyword" _ngcontent-yix-c36="">return</span> <span class="token punctuation" _ngcontent-yix-c36="">(</span>tree<span class="token operator" _ngcontent-yix-c36="">:</span> Tree<span class="token punctuation" _ngcontent-yix-c36="">,</span> _context<span class="token operator" _ngcontent-yix-c36="">:</span> SchematicContext<span class="token punctuation" _ngcontent-yix-c36="">)</span> <span class="token operator" _ngcontent-yix-c36="">=&gt;</span> <span class="token punctuation" _ngcontent-yix-c36="">{</span>
    <span class="token comment" _ngcontent-yix-c36="">/* ... */</span>
    <span class="token keyword" _ngcontent-yix-c36="">const</span> exportChanges <span class="token operator" _ngcontent-yix-c36="">=</span> <span class="token function" _ngcontent-yix-c36="">addExportToModule</span><span class="token punctuation" _ngcontent-yix-c36="">(</span>
      source<span class="token punctuation" _ngcontent-yix-c36="">,</span>
      modulePath<span class="token punctuation" _ngcontent-yix-c36="">,</span>
      <span class="token string" _ngcontent-yix-c36="">'FooModule'</span><span class="token punctuation" _ngcontent-yix-c36="">,</span>
      <span class="token string" _ngcontent-yix-c36="">'./foo.module'</span>
    <span class="token punctuation" _ngcontent-yix-c36="">)</span> <span class="token keyword" _ngcontent-yix-c36="">as</span> InsertChange<span class="token punctuation" _ngcontent-yix-c36="">[</span><span class="token punctuation" _ngcontent-yix-c36="">]</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
    <span class="token keyword" _ngcontent-yix-c36="">const</span> importChanges <span class="token operator" _ngcontent-yix-c36="">=</span> <span class="token function" _ngcontent-yix-c36="">addImportToModule</span><span class="token punctuation" _ngcontent-yix-c36="">(</span>
      source<span class="token punctuation" _ngcontent-yix-c36="">,</span>
      modulePath<span class="token punctuation" _ngcontent-yix-c36="">,</span>
      <span class="token string" _ngcontent-yix-c36="">'BarModule'</span><span class="token punctuation" _ngcontent-yix-c36="">,</span>
      <span class="token string" _ngcontent-yix-c36="">'./bar.module'</span>
    <span class="token punctuation" _ngcontent-yix-c36="">)</span> <span class="token keyword" _ngcontent-yix-c36="">as</span> InsertChange<span class="token punctuation" _ngcontent-yix-c36="">[</span><span class="token punctuation" _ngcontent-yix-c36="">]</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
    <span class="token keyword" _ngcontent-yix-c36="">const</span> providerChanges <span class="token operator" _ngcontent-yix-c36="">=</span> <span class="token function" _ngcontent-yix-c36="">addProviderToModule</span><span class="token punctuation" _ngcontent-yix-c36="">(</span>
      source<span class="token punctuation" _ngcontent-yix-c36="">,</span>
      modulePath<span class="token punctuation" _ngcontent-yix-c36="">,</span>
      <span class="token string" _ngcontent-yix-c36="">'MyProvider'</span><span class="token punctuation" _ngcontent-yix-c36="">,</span>
      <span class="token string" _ngcontent-yix-c36="">'./my-provider.ts'</span>
    <span class="token punctuation" _ngcontent-yix-c36="">)</span> <span class="token keyword" _ngcontent-yix-c36="">as</span> InsertChange<span class="token punctuation" _ngcontent-yix-c36="">[</span><span class="token punctuation" _ngcontent-yix-c36="">]</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
    <span class="token keyword" _ngcontent-yix-c36="">const</span> bootstrapChanges <span class="token operator" _ngcontent-yix-c36="">=</span> <span class="token function" _ngcontent-yix-c36="">addBootstrapToModule</span><span class="token punctuation" _ngcontent-yix-c36="">(</span>
      source<span class="token punctuation" _ngcontent-yix-c36="">,</span>
      modulePath<span class="token punctuation" _ngcontent-yix-c36="">,</span>
      <span class="token string" _ngcontent-yix-c36="">'MyComponent'</span><span class="token punctuation" _ngcontent-yix-c36="">,</span>
      <span class="token string" _ngcontent-yix-c36="">'./my.component.ts'</span>
    <span class="token punctuation" _ngcontent-yix-c36="">)</span> <span class="token keyword" _ngcontent-yix-c36="">as</span>  InsertChange<span class="token punctuation" _ngcontent-yix-c36="">[</span><span class="token punctuation" _ngcontent-yix-c36="">]</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
    <span class="token comment" _ngcontent-yix-c36="">/* ... */</span>
    <span class="token builtin" _ngcontent-yix-c36="">console</span><span class="token punctuation" _ngcontent-yix-c36="">.</span><span class="token function" _ngcontent-yix-c36="">log</span><span class="token punctuation" _ngcontent-yix-c36="">(</span>tree<span class="token punctuation" _ngcontent-yix-c36="">.</span><span class="token function" _ngcontent-yix-c36="">get</span><span class="token punctuation" _ngcontent-yix-c36="">(</span>modulePath<span class="token punctuation" _ngcontent-yix-c36="">)</span><span class="token operator" _ngcontent-yix-c36="">?.</span>content<span class="token punctuation" _ngcontent-yix-c36="">.</span><span class="token function" _ngcontent-yix-c36="">toString</span><span class="token punctuation" _ngcontent-yix-c36="">(</span><span class="token punctuation" _ngcontent-yix-c36="">)</span><span class="token punctuation" _ngcontent-yix-c36="">)</span>
    <span class="token keyword" _ngcontent-yix-c36="">return</span> tree<span class="token punctuation" _ngcontent-yix-c36="">;</span>
  <span class="token punctuation" _ngcontent-yix-c36="">}</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
<span class="token punctuation" _ngcontent-yix-c36="">}</span></code></pre><p _ngcontent-yix-c36="">Our result will now look like this:</p><pre class="language-ts" _ngcontent-yix-c36=""><code class="language-ts" _ngcontent-yix-c36=""><span class="token keyword" _ngcontent-yix-c36="">import</span> <span class="token punctuation" _ngcontent-yix-c36="">{</span> BrowserModule <span class="token punctuation" _ngcontent-yix-c36="">}</span> <span class="token keyword" _ngcontent-yix-c36="">from</span> <span class="token string" _ngcontent-yix-c36="">'@angular/platform-browser'</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
<span class="token keyword" _ngcontent-yix-c36="">import</span> <span class="token punctuation" _ngcontent-yix-c36="">{</span> NgModule <span class="token punctuation" _ngcontent-yix-c36="">}</span> <span class="token keyword" _ngcontent-yix-c36="">from</span> <span class="token string" _ngcontent-yix-c36="">'@angular/core'</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
<span class="token keyword" _ngcontent-yix-c36="">import</span> <span class="token punctuation" _ngcontent-yix-c36="">{</span> AppComponent <span class="token punctuation" _ngcontent-yix-c36="">}</span> <span class="token keyword" _ngcontent-yix-c36="">from</span> <span class="token string" _ngcontent-yix-c36="">'./app.component'</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
<span class="token keyword" _ngcontent-yix-c36="">import</span> <span class="token punctuation" _ngcontent-yix-c36="">{</span> FooModule <span class="token punctuation" _ngcontent-yix-c36="">}</span> <span class="token keyword" _ngcontent-yix-c36="">from</span> <span class="token string" _ngcontent-yix-c36="">'./foo.module'</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
<span class="token keyword" _ngcontent-yix-c36="">import</span> <span class="token punctuation" _ngcontent-yix-c36="">{</span> BarModule <span class="token punctuation" _ngcontent-yix-c36="">}</span> <span class="token keyword" _ngcontent-yix-c36="">from</span> <span class="token string" _ngcontent-yix-c36="">'./bar.module'</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
<span class="token keyword" _ngcontent-yix-c36="">import</span> <span class="token punctuation" _ngcontent-yix-c36="">{</span> MyProvider <span class="token punctuation" _ngcontent-yix-c36="">}</span> <span class="token keyword" _ngcontent-yix-c36="">from</span> <span class="token string" _ngcontent-yix-c36="">'./my-provider.ts'</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
<span class="token keyword" _ngcontent-yix-c36="">import</span> <span class="token punctuation" _ngcontent-yix-c36="">{</span> MyComponent <span class="token punctuation" _ngcontent-yix-c36="">}</span> <span class="token keyword" _ngcontent-yix-c36="">from</span> <span class="token string" _ngcontent-yix-c36="">'./my.component.ts'</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
<span class="token keyword" _ngcontent-yix-c36="">import</span> <span class="token punctuation" _ngcontent-yix-c36="">{</span> BazComponent <span class="token punctuation" _ngcontent-yix-c36="">}</span> <span class="token keyword" _ngcontent-yix-c36="">from</span> <span class="token string" _ngcontent-yix-c36="">'./baz.component.ts'</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>

<span class="token decorator" _ngcontent-yix-c36=""><span class="token at operator" _ngcontent-yix-c36="">@</span><span class="token function" _ngcontent-yix-c36="">NgModule</span></span><span class="token punctuation" _ngcontent-yix-c36="">(</span><span class="token punctuation" _ngcontent-yix-c36="">{</span>
  declarations<span class="token operator" _ngcontent-yix-c36="">:</span> <span class="token punctuation" _ngcontent-yix-c36="">[</span>
    AppComponent
  <span class="token punctuation" _ngcontent-yix-c36="">]</span><span class="token punctuation" _ngcontent-yix-c36="">,</span>
  imports<span class="token operator" _ngcontent-yix-c36="">:</span> <span class="token punctuation" _ngcontent-yix-c36="">[</span>
    BrowserModule<span class="token punctuation" _ngcontent-yix-c36="">,</span>
    BarModule
  <span class="token punctuation" _ngcontent-yix-c36="">]</span><span class="token punctuation" _ngcontent-yix-c36="">,</span>
  providers<span class="token operator" _ngcontent-yix-c36="">:</span> <span class="token punctuation" _ngcontent-yix-c36="">[</span>MyProvider<span class="token punctuation" _ngcontent-yix-c36="">]</span><span class="token punctuation" _ngcontent-yix-c36="">,</span>
  bootstrap<span class="token operator" _ngcontent-yix-c36="">:</span> <span class="token punctuation" _ngcontent-yix-c36="">[</span>MyComponent<span class="token punctuation" _ngcontent-yix-c36="">]</span><span class="token punctuation" _ngcontent-yix-c36="">,</span>
  exports<span class="token operator" _ngcontent-yix-c36="">:</span> <span class="token punctuation" _ngcontent-yix-c36="">[</span>FooModule<span class="token punctuation" _ngcontent-yix-c36="">]</span>
<span class="token punctuation" _ngcontent-yix-c36="">}</span><span class="token punctuation" _ngcontent-yix-c36="">)</span>
<span class="token keyword" _ngcontent-yix-c36="">export</span> <span class="token keyword" _ngcontent-yix-c36="">class</span> <span class="token class-name" _ngcontent-yix-c36="">AppModule</span> <span class="token punctuation" _ngcontent-yix-c36="">{</span> <span class="token punctuation" _ngcontent-yix-c36="">}</span></code></pre><h3 id="add-route-declarations" _ngcontent-yix-c36="">Add route declarations</h3><p _ngcontent-yix-c36="">Let's have a look at another common scenario: We want our schematic to insert a route definition to a module that calls <code _ngcontent-yix-c36="">RouterModule.forRoot()</code> or <code _ngcontent-yix-c36="">.forChild()</code> with a route definition array. For this, we can use the helper function <code _ngcontent-yix-c36="">addRouteDeclarationToModule()</code> which returns a <code _ngcontent-yix-c36="">Change</code> object which we need to handle as an <code _ngcontent-yix-c36="">InsertChange</code>.</p><pre class="language-ts" _ngcontent-yix-c36=""><code class="language-ts" _ngcontent-yix-c36=""><span class="token keyword" _ngcontent-yix-c36="">import</span> <span class="token operator" _ngcontent-yix-c36="">*</span> <span class="token keyword" _ngcontent-yix-c36="">as</span> ts <span class="token keyword" _ngcontent-yix-c36="">from</span> <span class="token string" _ngcontent-yix-c36="">'typescript'</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
<span class="token keyword" _ngcontent-yix-c36="">import</span> <span class="token punctuation" _ngcontent-yix-c36="">{</span> Rule<span class="token punctuation" _ngcontent-yix-c36="">,</span> SchematicContext<span class="token punctuation" _ngcontent-yix-c36="">,</span> Tree <span class="token punctuation" _ngcontent-yix-c36="">}</span> <span class="token keyword" _ngcontent-yix-c36="">from</span> <span class="token string" _ngcontent-yix-c36="">'@angular-devkit/schematics/'</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
<span class="token keyword" _ngcontent-yix-c36="">import</span> <span class="token punctuation" _ngcontent-yix-c36="">{</span> addRouteDeclarationToModule <span class="token punctuation" _ngcontent-yix-c36="">}</span> <span class="token keyword" _ngcontent-yix-c36="">from</span> <span class="token string" _ngcontent-yix-c36="">'@schematics/angular/utility/ast-utils'</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
<span class="token keyword" _ngcontent-yix-c36="">import</span> <span class="token punctuation" _ngcontent-yix-c36="">{</span> InsertChange <span class="token punctuation" _ngcontent-yix-c36="">}</span> <span class="token keyword" _ngcontent-yix-c36="">from</span> <span class="token string" _ngcontent-yix-c36="">'@schematics/angular/utility/change'</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>

<span class="token keyword" _ngcontent-yix-c36="">export</span> <span class="token keyword" _ngcontent-yix-c36="">function</span> <span class="token function" _ngcontent-yix-c36="">playground</span><span class="token punctuation" _ngcontent-yix-c36="">(</span>_options<span class="token operator" _ngcontent-yix-c36="">:</span> <span class="token builtin" _ngcontent-yix-c36="">any</span><span class="token punctuation" _ngcontent-yix-c36="">)</span><span class="token operator" _ngcontent-yix-c36="">:</span> Rule <span class="token punctuation" _ngcontent-yix-c36="">{</span>
  <span class="token keyword" _ngcontent-yix-c36="">return</span> <span class="token punctuation" _ngcontent-yix-c36="">(</span>tree<span class="token operator" _ngcontent-yix-c36="">:</span> Tree<span class="token punctuation" _ngcontent-yix-c36="">,</span> _context<span class="token operator" _ngcontent-yix-c36="">:</span> SchematicContext<span class="token punctuation" _ngcontent-yix-c36="">)</span> <span class="token operator" _ngcontent-yix-c36="">=&gt;</span> <span class="token punctuation" _ngcontent-yix-c36="">{</span>
    <span class="token keyword" _ngcontent-yix-c36="">const</span> modulePath <span class="token operator" _ngcontent-yix-c36="">=</span> <span class="token string" _ngcontent-yix-c36="">'my-routing.module.ts'</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
    <span class="token keyword" _ngcontent-yix-c36="">const</span> moduleContent <span class="token operator" _ngcontent-yix-c36="">=</span> <span class="token template-string" _ngcontent-yix-c36=""><span class="token template-punctuation string" _ngcontent-yix-c36="">`</span><span class="token string" _ngcontent-yix-c36="">import { NgModule } from '@angular/core';

    const myRoutes = [
      { path: 'foo', component: FooComponent }
    ];

    @NgModule({
      imports: [
        RouterModule.forChild(myRoutes)
      ],
    })
    export class MyRoutingModule { }
</span><span class="token template-punctuation string" _ngcontent-yix-c36="">`</span></span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
    tree<span class="token punctuation" _ngcontent-yix-c36="">.</span><span class="token function" _ngcontent-yix-c36="">create</span><span class="token punctuation" _ngcontent-yix-c36="">(</span>modulePath<span class="token punctuation" _ngcontent-yix-c36="">,</span> moduleContent<span class="token punctuation" _ngcontent-yix-c36="">)</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>

    <span class="token keyword" _ngcontent-yix-c36="">const</span> source <span class="token operator" _ngcontent-yix-c36="">=</span> ts<span class="token punctuation" _ngcontent-yix-c36="">.</span><span class="token function" _ngcontent-yix-c36="">createSourceFile</span><span class="token punctuation" _ngcontent-yix-c36="">(</span>
      modulePath<span class="token punctuation" _ngcontent-yix-c36="">,</span>
      moduleContent<span class="token punctuation" _ngcontent-yix-c36="">,</span>
      ts<span class="token punctuation" _ngcontent-yix-c36="">.</span>ScriptTarget<span class="token punctuation" _ngcontent-yix-c36="">.</span>Latest<span class="token punctuation" _ngcontent-yix-c36="">,</span>
      <span class="token boolean" _ngcontent-yix-c36="">true</span>
    <span class="token punctuation" _ngcontent-yix-c36="">)</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
    <span class="token keyword" _ngcontent-yix-c36="">const</span> updateRecorder <span class="token operator" _ngcontent-yix-c36="">=</span> tree<span class="token punctuation" _ngcontent-yix-c36="">.</span><span class="token function" _ngcontent-yix-c36="">beginUpdate</span><span class="token punctuation" _ngcontent-yix-c36="">(</span>modulePath<span class="token punctuation" _ngcontent-yix-c36="">)</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
    <span class="token keyword" _ngcontent-yix-c36="">const</span> change <span class="token operator" _ngcontent-yix-c36="">=</span> <span class="token function" _ngcontent-yix-c36="">addRouteDeclarationToModule</span><span class="token punctuation" _ngcontent-yix-c36="">(</span>
      source<span class="token punctuation" _ngcontent-yix-c36="">,</span>
      <span class="token string" _ngcontent-yix-c36="">'./src/app'</span><span class="token punctuation" _ngcontent-yix-c36="">,</span>
      <span class="token template-string" _ngcontent-yix-c36=""><span class="token template-punctuation string" _ngcontent-yix-c36="">`</span><span class="token string" _ngcontent-yix-c36="">{ path: 'bar', component: BarComponent }</span><span class="token template-punctuation string" _ngcontent-yix-c36="">`</span></span>
    <span class="token punctuation" _ngcontent-yix-c36="">)</span> <span class="token keyword" _ngcontent-yix-c36="">as</span> InsertChange<span class="token punctuation" _ngcontent-yix-c36="">;</span>
    updateRecorder<span class="token punctuation" _ngcontent-yix-c36="">.</span><span class="token function" _ngcontent-yix-c36="">insertLeft</span><span class="token punctuation" _ngcontent-yix-c36="">(</span>change<span class="token punctuation" _ngcontent-yix-c36="">.</span>pos<span class="token punctuation" _ngcontent-yix-c36="">,</span> change<span class="token punctuation" _ngcontent-yix-c36="">.</span>toAdd<span class="token punctuation" _ngcontent-yix-c36="">)</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
    tree<span class="token punctuation" _ngcontent-yix-c36="">.</span><span class="token function" _ngcontent-yix-c36="">commitUpdate</span><span class="token punctuation" _ngcontent-yix-c36="">(</span>updateRecorder<span class="token punctuation" _ngcontent-yix-c36="">)</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
    <span class="token builtin" _ngcontent-yix-c36="">console</span><span class="token punctuation" _ngcontent-yix-c36="">.</span><span class="token function" _ngcontent-yix-c36="">log</span><span class="token punctuation" _ngcontent-yix-c36="">(</span>tree<span class="token punctuation" _ngcontent-yix-c36="">.</span><span class="token function" _ngcontent-yix-c36="">get</span><span class="token punctuation" _ngcontent-yix-c36="">(</span>modulePath<span class="token punctuation" _ngcontent-yix-c36="">)</span><span class="token operator" _ngcontent-yix-c36="">?.</span>content<span class="token punctuation" _ngcontent-yix-c36="">.</span><span class="token function" _ngcontent-yix-c36="">toString</span><span class="token punctuation" _ngcontent-yix-c36="">(</span><span class="token punctuation" _ngcontent-yix-c36="">)</span><span class="token punctuation" _ngcontent-yix-c36="">)</span>

    <span class="token keyword" _ngcontent-yix-c36="">return</span> tree<span class="token punctuation" _ngcontent-yix-c36="">;</span>
  <span class="token punctuation" _ngcontent-yix-c36="">}</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
<span class="token punctuation" _ngcontent-yix-c36="">}</span></code></pre><p _ngcontent-yix-c36="">The example above will insert the route definition object <code _ngcontent-yix-c36="">{ path: 'bar', component: BarComponent }</code> into the <code _ngcontent-yix-c36="">myRoutes</code> array by finding the variable associated in <code _ngcontent-yix-c36="">forRoot()</code> or <code _ngcontent-yix-c36="">forChild()</code>.</p><ul _ngcontent-yix-c36=""><li _ngcontent-yix-c36=""><a href="https://github.com/angular/angular-cli/blob/master/packages/schematics/angular/utility/ast-utils.ts" _ngcontent-yix-c36="" rel="noreferrer noopener">Check out the implementation for ast-utils in detail.</a></li><li _ngcontent-yix-c36=""><a href="https://github.com/d-koppenhagen/schematics-helpers-playground/tree/master/playground/src/module" _ngcontent-yix-c36="" rel="noreferrer noopener">Check out the examples for module operations in the playground repository on GitHub</a></li></ul><h2 id="retrieve-the-angular-workspace-configuration" _ngcontent-yix-c36="">Retrieve the Angular workspace configuration</h2><p _ngcontent-yix-c36="">Each Angular app lives in an Angular workspace containing an <code _ngcontent-yix-c36="">angular.json</code> configuration file. If we want to get either the path to the workspace configuration file or the configuration from the file itself, we can use the <code _ngcontent-yix-c36="">getWorkspacePath()</code> and <code _ngcontent-yix-c36="">getWorkspace()</code> functions by passing in the current <code _ngcontent-yix-c36="">Tree</code> object.</p><pre class="language-ts" _ngcontent-yix-c36=""><code class="language-ts" _ngcontent-yix-c36=""><span class="token keyword" _ngcontent-yix-c36="">import</span> <span class="token punctuation" _ngcontent-yix-c36="">{</span> Rule<span class="token punctuation" _ngcontent-yix-c36="">,</span> SchematicContext<span class="token punctuation" _ngcontent-yix-c36="">,</span> Tree <span class="token punctuation" _ngcontent-yix-c36="">}</span> <span class="token keyword" _ngcontent-yix-c36="">from</span> <span class="token string" _ngcontent-yix-c36="">'@angular-devkit/schematics'</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
<span class="token keyword" _ngcontent-yix-c36="">import</span> <span class="token punctuation" _ngcontent-yix-c36="">{</span> getWorkspacePath<span class="token punctuation" _ngcontent-yix-c36="">,</span> getWorkspace <span class="token punctuation" _ngcontent-yix-c36="">}</span> <span class="token keyword" _ngcontent-yix-c36="">from</span> <span class="token string" _ngcontent-yix-c36="">'@schematics/angular/utility/config'</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>

<span class="token keyword" _ngcontent-yix-c36="">export</span> <span class="token keyword" _ngcontent-yix-c36="">function</span> <span class="token function" _ngcontent-yix-c36="">playground</span><span class="token punctuation" _ngcontent-yix-c36="">(</span>_options<span class="token operator" _ngcontent-yix-c36="">:</span> <span class="token builtin" _ngcontent-yix-c36="">any</span><span class="token punctuation" _ngcontent-yix-c36="">)</span><span class="token operator" _ngcontent-yix-c36="">:</span> Rule <span class="token punctuation" _ngcontent-yix-c36="">{</span>
  <span class="token keyword" _ngcontent-yix-c36="">return</span> <span class="token punctuation" _ngcontent-yix-c36="">(</span>tree<span class="token operator" _ngcontent-yix-c36="">:</span> Tree<span class="token punctuation" _ngcontent-yix-c36="">,</span> _context<span class="token operator" _ngcontent-yix-c36="">:</span> SchematicContext<span class="token punctuation" _ngcontent-yix-c36="">)</span> <span class="token operator" _ngcontent-yix-c36="">=&gt;</span> <span class="token punctuation" _ngcontent-yix-c36="">{</span>
    <span class="token comment" _ngcontent-yix-c36="">// returns the path to the Angular configuration file</span>
    <span class="token comment" _ngcontent-yix-c36="">// ('/angular.json' or probably `.angular.json` for older Angular projects)</span>
    <span class="token builtin" _ngcontent-yix-c36="">console</span><span class="token punctuation" _ngcontent-yix-c36="">.</span><span class="token function" _ngcontent-yix-c36="">log</span><span class="token punctuation" _ngcontent-yix-c36="">(</span><span class="token function" _ngcontent-yix-c36="">getWorkspacePath</span><span class="token punctuation" _ngcontent-yix-c36="">(</span>tree<span class="token punctuation" _ngcontent-yix-c36="">)</span><span class="token punctuation" _ngcontent-yix-c36="">)</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>

    <span class="token comment" _ngcontent-yix-c36="">// returns the whole configuration object from the 'angular.json' file</span>
    <span class="token builtin" _ngcontent-yix-c36="">console</span><span class="token punctuation" _ngcontent-yix-c36="">.</span><span class="token function" _ngcontent-yix-c36="">log</span><span class="token punctuation" _ngcontent-yix-c36="">(</span><span class="token constant" _ngcontent-yix-c36="">JSON</span><span class="token punctuation" _ngcontent-yix-c36="">.</span><span class="token function" _ngcontent-yix-c36="">stringify</span><span class="token punctuation" _ngcontent-yix-c36="">(</span><span class="token function" _ngcontent-yix-c36="">getWorkspace</span><span class="token punctuation" _ngcontent-yix-c36="">(</span>tree<span class="token punctuation" _ngcontent-yix-c36="">)</span><span class="token punctuation" _ngcontent-yix-c36="">,</span> <span class="token keyword" _ngcontent-yix-c36="">null</span><span class="token punctuation" _ngcontent-yix-c36="">,</span> <span class="token number" _ngcontent-yix-c36="">2</span><span class="token punctuation" _ngcontent-yix-c36="">)</span><span class="token punctuation" _ngcontent-yix-c36="">)</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
  <span class="token punctuation" _ngcontent-yix-c36="">}</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
<span class="token punctuation" _ngcontent-yix-c36="">}</span></code></pre><p _ngcontent-yix-c36="">To try out things locally, we need to execute the schematics from an Angular app root path on our system. To do so, navigate into an existing Angular app or create a new one for testing purposes. Then, execute the schematic from there by using the relative path to the <code _ngcontent-yix-c36="">src/collection.json</code> file and adding the schematic name after the colon (<code _ngcontent-yix-c36="">:</code>).</p><pre class="language-bash" _ngcontent-yix-c36=""><code class="language-bash" _ngcontent-yix-c36="">ng new some-test-project --routing  # create a new test project
cd some-test-project      # be sure to be in the root of the angular project
# assume the schematics project itself is located relatively to the angular project in '../playground'
schematics ../playground/src/collection.json:playground # execute the 'playground' schematic</code></pre><ul _ngcontent-yix-c36=""><li _ngcontent-yix-c36=""><a href="https://github.com/angular/angular-cli/blob/master/packages/schematics/angular/utility/config.ts" _ngcontent-yix-c36="" rel="noreferrer noopener">Check out the implementation in detail.</a></li><li _ngcontent-yix-c36=""><a href="https://github.com/d-koppenhagen/schematics-helpers-playground/tree/master/playground/src/config" _ngcontent-yix-c36="" rel="noreferrer noopener">Check out the example in the playground repository on GitHub</a></li></ul><h2 id="get-default-path-for-an-app-inside-the-workspace" _ngcontent-yix-c36="">Get default path for an app inside the workspace</h2><p _ngcontent-yix-c36="">An Angular workspace can contain multiple applications or libraries. To find their appropriate main paths, you can use the helper function <code _ngcontent-yix-c36="">createDefaultPath()</code>. We need to pass in the <code _ngcontent-yix-c36="">Tree</code> object and the name of the app or library we want to get the path for.</p><pre class="language-ts" _ngcontent-yix-c36=""><code class="language-ts" _ngcontent-yix-c36=""><span class="token keyword" _ngcontent-yix-c36="">import</span> <span class="token punctuation" _ngcontent-yix-c36="">{</span> Rule<span class="token punctuation" _ngcontent-yix-c36="">,</span> SchematicContext<span class="token punctuation" _ngcontent-yix-c36="">,</span> Tree <span class="token punctuation" _ngcontent-yix-c36="">}</span> <span class="token keyword" _ngcontent-yix-c36="">from</span> <span class="token string" _ngcontent-yix-c36="">'@angular-devkit/schematics'</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
<span class="token keyword" _ngcontent-yix-c36="">import</span> <span class="token punctuation" _ngcontent-yix-c36="">{</span> createDefaultPath <span class="token punctuation" _ngcontent-yix-c36="">}</span> <span class="token keyword" _ngcontent-yix-c36="">from</span> <span class="token string" _ngcontent-yix-c36="">'@schematics/angular/utility/workspace'</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>

<span class="token keyword" _ngcontent-yix-c36="">export</span> <span class="token keyword" _ngcontent-yix-c36="">function</span> <span class="token function" _ngcontent-yix-c36="">playground</span><span class="token punctuation" _ngcontent-yix-c36="">(</span>_options<span class="token operator" _ngcontent-yix-c36="">:</span> <span class="token builtin" _ngcontent-yix-c36="">any</span><span class="token punctuation" _ngcontent-yix-c36="">)</span><span class="token operator" _ngcontent-yix-c36="">:</span> Rule <span class="token punctuation" _ngcontent-yix-c36="">{</span>
  <span class="token keyword" _ngcontent-yix-c36="">return</span> <span class="token keyword" _ngcontent-yix-c36="">async</span> <span class="token punctuation" _ngcontent-yix-c36="">(</span>tree<span class="token operator" _ngcontent-yix-c36="">:</span> Tree<span class="token punctuation" _ngcontent-yix-c36="">,</span> _context<span class="token operator" _ngcontent-yix-c36="">:</span> SchematicContext<span class="token punctuation" _ngcontent-yix-c36="">)</span> <span class="token operator" _ngcontent-yix-c36="">=&gt;</span> <span class="token punctuation" _ngcontent-yix-c36="">{</span>
    <span class="token keyword" _ngcontent-yix-c36="">const</span> defaultPath <span class="token operator" _ngcontent-yix-c36="">=</span> <span class="token keyword" _ngcontent-yix-c36="">await</span> <span class="token function" _ngcontent-yix-c36="">createDefaultPath</span><span class="token punctuation" _ngcontent-yix-c36="">(</span>tree<span class="token punctuation" _ngcontent-yix-c36="">,</span> <span class="token string" _ngcontent-yix-c36="">'my-lib'</span><span class="token punctuation" _ngcontent-yix-c36="">)</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
    <span class="token builtin" _ngcontent-yix-c36="">console</span><span class="token punctuation" _ngcontent-yix-c36="">.</span><span class="token function" _ngcontent-yix-c36="">log</span><span class="token punctuation" _ngcontent-yix-c36="">(</span>defaultPath<span class="token punctuation" _ngcontent-yix-c36="">)</span><span class="token punctuation" _ngcontent-yix-c36="">;</span> <span class="token comment" _ngcontent-yix-c36="">// '/projects/my-lib/src/lib'</span>
  <span class="token punctuation" _ngcontent-yix-c36="">}</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
<span class="token punctuation" _ngcontent-yix-c36="">}</span></code></pre><p _ngcontent-yix-c36="">Let's create a new library inside our testing Angular app called <code _ngcontent-yix-c36="">my-lib</code>, to try it out:</p><pre class="language-bash" _ngcontent-yix-c36=""><code class="language-bash" _ngcontent-yix-c36="">ng g lib my-lib  # create a new library inside the Angular workspace
# assume the schematics project itself is located relatively to the angular project in '../playground'
schematics ../playground/src/collection.json:playground # execute the 'playground' schematic</code></pre><ul _ngcontent-yix-c36=""><li _ngcontent-yix-c36=""><a href="https://github.com/angular/angular-cli/blob/master/packages/schematics/angular/utility/workspace.ts" _ngcontent-yix-c36="" rel="noreferrer noopener">Check out the implementation for <code _ngcontent-yix-c36="">createDefaultPath()</code> in detail.</a></li><li _ngcontent-yix-c36=""><a href="https://github.com/d-koppenhagen/schematics-helpers-playground/tree/master/playground/src/worksapce" _ngcontent-yix-c36="" rel="noreferrer noopener">Check out the example in the playground repository on GitHub</a></li></ul><h2 id="call-schematics-from-schematics" _ngcontent-yix-c36="">Call schematics from schematics</h2><p _ngcontent-yix-c36="">If you run a schematic, you may come to the point where one schematic should execute another one. For example: You create schematics for generating a specific component. You also develop a <code _ngcontent-yix-c36="">ng add</code> or <code _ngcontent-yix-c36="">ng new</code> schematic to set up things for you and create an example component by default. In such cases you may want to combine multiple schematics.</p><h3 id="run-local-schematics-using-the-runschematictask" _ngcontent-yix-c36="">Run local schematics using the <code _ngcontent-yix-c36="">RunSchematicTask</code></h3><p _ngcontent-yix-c36="">First we want to use the <code _ngcontent-yix-c36="">RunSchematicTask</code> class to achieve our goal. Let's say we have a collection file like the following:</p><pre class="language-json" _ngcontent-yix-c36=""><code class="language-json" _ngcontent-yix-c36=""><span class="token punctuation" _ngcontent-yix-c36="">{</span>
  <span class="token property" _ngcontent-yix-c36="">"$schema"</span><span class="token operator" _ngcontent-yix-c36="">:</span> <span class="token string" _ngcontent-yix-c36="">"../node_modules/@angular-devkit/schematics/collection-schema.json"</span><span class="token punctuation" _ngcontent-yix-c36="">,</span>
  <span class="token property" _ngcontent-yix-c36="">"schematics"</span><span class="token operator" _ngcontent-yix-c36="">:</span> <span class="token punctuation" _ngcontent-yix-c36="">{</span>
    <span class="token property" _ngcontent-yix-c36="">"ng-add"</span><span class="token operator" _ngcontent-yix-c36="">:</span> <span class="token punctuation" _ngcontent-yix-c36="">{</span>
      <span class="token property" _ngcontent-yix-c36="">"description"</span><span class="token operator" _ngcontent-yix-c36="">:</span> <span class="token string" _ngcontent-yix-c36="">"Demo that calls the 'playground' schematic inside"</span><span class="token punctuation" _ngcontent-yix-c36="">,</span>
      <span class="token property" _ngcontent-yix-c36="">"factory"</span><span class="token operator" _ngcontent-yix-c36="">:</span> <span class="token string" _ngcontent-yix-c36="">"./ng-add/index#ngAdd"</span>
    <span class="token punctuation" _ngcontent-yix-c36="">}</span><span class="token punctuation" _ngcontent-yix-c36="">,</span>
    <span class="token property" _ngcontent-yix-c36="">"playground"</span><span class="token operator" _ngcontent-yix-c36="">:</span> <span class="token punctuation" _ngcontent-yix-c36="">{</span>
      <span class="token property" _ngcontent-yix-c36="">"description"</span><span class="token operator" _ngcontent-yix-c36="">:</span> <span class="token string" _ngcontent-yix-c36="">"An example schematic."</span><span class="token punctuation" _ngcontent-yix-c36="">,</span>
      <span class="token property" _ngcontent-yix-c36="">"factory"</span><span class="token operator" _ngcontent-yix-c36="">:</span> <span class="token string" _ngcontent-yix-c36="">"./playground/index#playground"</span>
    <span class="token punctuation" _ngcontent-yix-c36="">}</span>
  <span class="token punctuation" _ngcontent-yix-c36="">}</span>
<span class="token punctuation" _ngcontent-yix-c36="">}</span></code></pre><p _ngcontent-yix-c36="">The factory for <code _ngcontent-yix-c36="">ng-add</code> is located in <code _ngcontent-yix-c36="">src/ng-add/index.ts</code>. Then inside this schematic we can call a new <code _ngcontent-yix-c36="">RunSchematicTask</code> with the name of the schematic we want to execute and the project name from the Angular workspace. To really execute the operation we need to pass the task to the <code _ngcontent-yix-c36="">context</code>.</p><pre class="language-ts" _ngcontent-yix-c36=""><code class="language-ts" _ngcontent-yix-c36=""><span class="token keyword" _ngcontent-yix-c36="">import</span> <span class="token punctuation" _ngcontent-yix-c36="">{</span> Rule<span class="token punctuation" _ngcontent-yix-c36="">,</span> SchematicContext<span class="token punctuation" _ngcontent-yix-c36="">,</span> Tree <span class="token punctuation" _ngcontent-yix-c36="">}</span> <span class="token keyword" _ngcontent-yix-c36="">from</span> <span class="token string" _ngcontent-yix-c36="">'@angular-devkit/schematics'</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
<span class="token keyword" _ngcontent-yix-c36="">import</span> <span class="token punctuation" _ngcontent-yix-c36="">{</span> RunSchematicTask <span class="token punctuation" _ngcontent-yix-c36="">}</span> <span class="token keyword" _ngcontent-yix-c36="">from</span> <span class="token string" _ngcontent-yix-c36="">'@angular-devkit/schematics/tasks'</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>

<span class="token keyword" _ngcontent-yix-c36="">export</span> <span class="token keyword" _ngcontent-yix-c36="">function</span> <span class="token function" _ngcontent-yix-c36="">ngAdd</span><span class="token punctuation" _ngcontent-yix-c36="">(</span>_options<span class="token operator" _ngcontent-yix-c36="">:</span> <span class="token builtin" _ngcontent-yix-c36="">any</span><span class="token punctuation" _ngcontent-yix-c36="">)</span><span class="token operator" _ngcontent-yix-c36="">:</span> Rule <span class="token punctuation" _ngcontent-yix-c36="">{</span>
  <span class="token keyword" _ngcontent-yix-c36="">return</span> <span class="token punctuation" _ngcontent-yix-c36="">(</span>tree<span class="token operator" _ngcontent-yix-c36="">:</span> Tree<span class="token punctuation" _ngcontent-yix-c36="">,</span> _context<span class="token operator" _ngcontent-yix-c36="">:</span> SchematicContext<span class="token punctuation" _ngcontent-yix-c36="">)</span> <span class="token operator" _ngcontent-yix-c36="">=&gt;</span> <span class="token punctuation" _ngcontent-yix-c36="">{</span>
    context<span class="token punctuation" _ngcontent-yix-c36="">.</span><span class="token function" _ngcontent-yix-c36="">addTask</span><span class="token punctuation" _ngcontent-yix-c36="">(</span>
      <span class="token keyword" _ngcontent-yix-c36="">new</span> <span class="token class-name" _ngcontent-yix-c36="">RunSchematicTask</span><span class="token punctuation" _ngcontent-yix-c36="">(</span><span class="token string" _ngcontent-yix-c36="">'playground'</span><span class="token punctuation" _ngcontent-yix-c36="">,</span> <span class="token punctuation" _ngcontent-yix-c36="">{</span> project<span class="token operator" _ngcontent-yix-c36="">:</span> <span class="token string" _ngcontent-yix-c36="">'test-workspace'</span> <span class="token punctuation" _ngcontent-yix-c36="">}</span><span class="token punctuation" _ngcontent-yix-c36="">)</span>
    <span class="token punctuation" _ngcontent-yix-c36="">)</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
    <span class="token keyword" _ngcontent-yix-c36="">return</span> tree<span class="token punctuation" _ngcontent-yix-c36="">;</span>
  <span class="token punctuation" _ngcontent-yix-c36="">}</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
<span class="token punctuation" _ngcontent-yix-c36="">}</span></code></pre><p _ngcontent-yix-c36="">To check if it works we can fill our playground (<code _ngcontent-yix-c36="">src/playground/index.ts</code>) schematic as follows and log the call:</p><pre class="language-ts" _ngcontent-yix-c36=""><code class="language-ts" _ngcontent-yix-c36=""><span class="token keyword" _ngcontent-yix-c36="">import</span> <span class="token punctuation" _ngcontent-yix-c36="">{</span> Rule<span class="token punctuation" _ngcontent-yix-c36="">,</span> SchematicContext<span class="token punctuation" _ngcontent-yix-c36="">,</span> Tree <span class="token punctuation" _ngcontent-yix-c36="">}</span> <span class="token keyword" _ngcontent-yix-c36="">from</span> <span class="token string" _ngcontent-yix-c36="">'@angular-devkit/schematics'</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>

<span class="token keyword" _ngcontent-yix-c36="">export</span> <span class="token keyword" _ngcontent-yix-c36="">function</span> <span class="token function" _ngcontent-yix-c36="">playground</span><span class="token punctuation" _ngcontent-yix-c36="">(</span>_options<span class="token operator" _ngcontent-yix-c36="">:</span> <span class="token builtin" _ngcontent-yix-c36="">any</span><span class="token punctuation" _ngcontent-yix-c36="">)</span><span class="token operator" _ngcontent-yix-c36="">:</span> Rule <span class="token punctuation" _ngcontent-yix-c36="">{</span>
  <span class="token keyword" _ngcontent-yix-c36="">return</span> <span class="token punctuation" _ngcontent-yix-c36="">(</span>tree<span class="token operator" _ngcontent-yix-c36="">:</span> Tree<span class="token punctuation" _ngcontent-yix-c36="">,</span> _context<span class="token operator" _ngcontent-yix-c36="">:</span> SchematicContext<span class="token punctuation" _ngcontent-yix-c36="">)</span> <span class="token operator" _ngcontent-yix-c36="">=&gt;</span> <span class="token punctuation" _ngcontent-yix-c36="">{</span>
    <span class="token builtin" _ngcontent-yix-c36="">console</span><span class="token punctuation" _ngcontent-yix-c36="">.</span><span class="token function" _ngcontent-yix-c36="">log</span><span class="token punctuation" _ngcontent-yix-c36="">(</span><span class="token string" _ngcontent-yix-c36="">'schematic \'playground\' called'</span><span class="token punctuation" _ngcontent-yix-c36="">)</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
    <span class="token keyword" _ngcontent-yix-c36="">return</span> tree<span class="token punctuation" _ngcontent-yix-c36="">;</span>
  <span class="token punctuation" _ngcontent-yix-c36="">}</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
<span class="token punctuation" _ngcontent-yix-c36="">}</span></code></pre><p _ngcontent-yix-c36="">If we now run <code _ngcontent-yix-c36="">schematics ../playground/src/collection.json:ng-add --debug=false</code> from our example Angular project, we can see that the <code _ngcontent-yix-c36="">ng-add</code> schematic has called the <code _ngcontent-yix-c36="">playground</code> schematic.</p><p _ngcontent-yix-c36="">With this knowledge you can define small atomic schematics that can be executed "standalone" or from another Schematic that combines multiple standalone schematics and calls them with specific parameters.</p><ul _ngcontent-yix-c36=""><li _ngcontent-yix-c36=""><a href="https://github.com/d-koppenhagen/schematics-helpers-playground/tree/master/playground/src/ng-add" _ngcontent-yix-c36="" rel="noreferrer noopener">Check out the example in the playground repository on GitHub</a></li></ul><h3 id="run-schematics-by-using-the-schematic-and-externalschematic-function" _ngcontent-yix-c36="">Run schematics by using the <code _ngcontent-yix-c36="">schematic()</code> and <code _ngcontent-yix-c36="">externalSchematic()</code> function</h3><p _ngcontent-yix-c36="">Perfect, we can now execute and combine our schematics. But what if we want to combine external schematics developed by others and integrate them in our own schematics? Users are lazy, so we don't want to leave it up to them to manually execute some other things before running our schematics.</p><p _ngcontent-yix-c36="">Imagine you are working in a big company with multiple different Angular projects. This company already has its own standardized UI library, but all the applications are very different and ran by different teams (so not really a use case for a Monorepo). However, there are also things they all have in common like a Single Sign-On. Also, the basic design always looks similar – at least the header and the footer of all the apps.</p><p _ngcontent-yix-c36="">I've often seen companies building a reference implementation for such apps that's then cloned / copied and adjusted by all developers. However, there are some problems with this kind of workflow:</p><ul _ngcontent-yix-c36=""><li _ngcontent-yix-c36="">You always have to keep the reference project up-to-date.</li><li _ngcontent-yix-c36="">You have to clean up your copy of the project from stuff you don't need.</li><li _ngcontent-yix-c36="">You need to tell all teams to copy this reference to keep track of changes and to adjust their copies frequently.</li></ul><p _ngcontent-yix-c36="">Thus, a better solution in my opinion is to use schematics for the whole integration and upgrade workflow. You can create an <code _ngcontent-yix-c36="">ng new</code> schematic that will scaffold the whole project code for you. But you don't want to start from scratch, so you probably want to combine things like these:</p><ul _ngcontent-yix-c36=""><li _ngcontent-yix-c36=""><code _ngcontent-yix-c36="">ng add</code>: Add your schematics to an existing project<ul _ngcontent-yix-c36=""><li _ngcontent-yix-c36="">Corporate UI library (always)</li><li _ngcontent-yix-c36="">Single Sign-On (optional)</li><li _ngcontent-yix-c36="">Header Component (optional)</li><li _ngcontent-yix-c36="">Footer Component (optional)</li></ul></li><li _ngcontent-yix-c36=""><code _ngcontent-yix-c36="">ng new</code>: Create a new project with your company defaults<ul _ngcontent-yix-c36=""><li _ngcontent-yix-c36="">Create the basic application generated by the Angular CLI (<strong _ngcontent-yix-c36=""><code _ngcontent-yix-c36="">externalSchematic</code></strong>)</li><li _ngcontent-yix-c36="">Run the <code _ngcontent-yix-c36="">ng add</code> Schematic</li></ul></li></ul><p _ngcontent-yix-c36="">Alright, we already know how we can achieve most of these things. However, there's one thing we haven't learned yet: How to run other (external) schematics? We can use the <code _ngcontent-yix-c36="">externalSchematic</code> function for this.</p><p _ngcontent-yix-c36="">But first things first, let's check if our collection file is ready to start:</p><pre class="language-json" _ngcontent-yix-c36=""><code class="language-json" _ngcontent-yix-c36=""><span class="token punctuation" _ngcontent-yix-c36="">{</span>
  <span class="token property" _ngcontent-yix-c36="">"$schema"</span><span class="token operator" _ngcontent-yix-c36="">:</span> <span class="token string" _ngcontent-yix-c36="">"../node_modules/@angular-devkit/schematics/collection-schema.json"</span><span class="token punctuation" _ngcontent-yix-c36="">,</span>
  <span class="token property" _ngcontent-yix-c36="">"schematics"</span><span class="token operator" _ngcontent-yix-c36="">:</span> <span class="token punctuation" _ngcontent-yix-c36="">{</span>
    <span class="token property" _ngcontent-yix-c36="">"ng-add"</span><span class="token operator" _ngcontent-yix-c36="">:</span> <span class="token punctuation" _ngcontent-yix-c36="">{</span>
      <span class="token property" _ngcontent-yix-c36="">"description"</span><span class="token operator" _ngcontent-yix-c36="">:</span> <span class="token string" _ngcontent-yix-c36="">"Call other schematics from the same or other packages"</span><span class="token punctuation" _ngcontent-yix-c36="">,</span>
      <span class="token property" _ngcontent-yix-c36="">"factory"</span><span class="token operator" _ngcontent-yix-c36="">:</span> <span class="token string" _ngcontent-yix-c36="">"./ng-add/index#playground"</span>
    <span class="token punctuation" _ngcontent-yix-c36="">}</span><span class="token punctuation" _ngcontent-yix-c36="">,</span>
    <span class="token property" _ngcontent-yix-c36="">"ng-new"</span><span class="token operator" _ngcontent-yix-c36="">:</span> <span class="token punctuation" _ngcontent-yix-c36="">{</span>
      <span class="token property" _ngcontent-yix-c36="">"description"</span><span class="token operator" _ngcontent-yix-c36="">:</span> <span class="token string" _ngcontent-yix-c36="">"Execute `ng new` with predefined options and run other stuff"</span><span class="token punctuation" _ngcontent-yix-c36="">,</span>
      <span class="token property" _ngcontent-yix-c36="">"factory"</span><span class="token operator" _ngcontent-yix-c36="">:</span> <span class="token string" _ngcontent-yix-c36="">"./ng-new/index#playground"</span>
    <span class="token punctuation" _ngcontent-yix-c36="">}</span>
  <span class="token punctuation" _ngcontent-yix-c36="">}</span>
<span class="token punctuation" _ngcontent-yix-c36="">}</span></code></pre><blockquote _ngcontent-yix-c36=""><p _ngcontent-yix-c36="">Using the special Schematic names <code _ngcontent-yix-c36="">ng-add</code> and <code _ngcontent-yix-c36="">ng-new</code> let's you later use the schematic by just executing <code _ngcontent-yix-c36="">ng add</code>/<code _ngcontent-yix-c36="">ng new</code> (instead of other schematics called with <code _ngcontent-yix-c36="">ng generate</code>). There is also a special Schematic named <code _ngcontent-yix-c36="">ng-update</code> which will be called in the end with the <code _ngcontent-yix-c36="">ng update</code> Angular CLI command.</p></blockquote><p _ngcontent-yix-c36="">After we defined the schema, we can now start to implement our schematics. To execute an external Schematic, it must be available in the scope of the project.. However, since we want to create a completely new project with the <code _ngcontent-yix-c36="">ng new</code> Schematic, we don't have any <code _ngcontent-yix-c36="">node_modules</code> installed in the target directory where we want to initialize the Angular workspace. To run an external command we can use the <a href="https://nodejs.org/api/child_process.html#child_process_child_process_spawn_command_args_options" _ngcontent-yix-c36="" rel="noreferrer noopener"><code _ngcontent-yix-c36="">spawn</code> method from <code _ngcontent-yix-c36="">child_process</code></a> (available globally for Node.js). This creates a new process that executes a command (in our case: <code _ngcontent-yix-c36="">npm install @schematics/angular</code>). To make things look synchronous we wrap the method call into a Promise and <code _ngcontent-yix-c36="">await</code> for the Promise to be resolved. Now we listen to the <code _ngcontent-yix-c36="">close</code> event from <code _ngcontent-yix-c36="">spawn</code> and check that there was no error during install (code equals <code _ngcontent-yix-c36="">0</code>). If everything worked fine, we will resolve the Promise, otherwise we can throw an error. The last step is to <code _ngcontent-yix-c36="">chain</code> all of our <code _ngcontent-yix-c36="">Rule</code>s: We first use the <code _ngcontent-yix-c36="">externalSchematic()</code> function to run the <code _ngcontent-yix-c36="">ng new</code> Schematic from Angular itself and set up the basic app. We will hand over some default options here such a using <code _ngcontent-yix-c36="">SCSS</code>, support legacy browsers, strict mode, etc. Angulars <code _ngcontent-yix-c36="">ng new</code> schematic requires also, that we define the specific version for their schematic to be used. In our case we want to use the <code _ngcontent-yix-c36="">ng new</code> schematic from the Angular CLI version <code _ngcontent-yix-c36="">12.0.0</code>. The second call is our <code _ngcontent-yix-c36="">ng add</code> Schematic that adds our company specific components, UI libs and so on to the project.</p><blockquote _ngcontent-yix-c36=""><p _ngcontent-yix-c36="">We've already learned how to run a local Schematic by using the <code _ngcontent-yix-c36="">RunSchematicTask</code> class that we need to add to our <code _ngcontent-yix-c36="">context</code> object. In this example we are using the <code _ngcontent-yix-c36="">schematic()</code> function to achieve the same goal. Why are there two ways? To be honest: I actually don't know. I found both implementations in the source code of Angular CLI.</p></blockquote><pre class="language-ts" _ngcontent-yix-c36=""><code class="language-ts" _ngcontent-yix-c36=""><span class="token keyword" _ngcontent-yix-c36="">import</span> <span class="token punctuation" _ngcontent-yix-c36="">{</span>
  Rule<span class="token punctuation" _ngcontent-yix-c36="">,</span>
  SchematicContext<span class="token punctuation" _ngcontent-yix-c36="">,</span>
  Tree<span class="token punctuation" _ngcontent-yix-c36="">,</span>
  externalSchematic<span class="token punctuation" _ngcontent-yix-c36="">,</span>
  schematic<span class="token punctuation" _ngcontent-yix-c36="">,</span>
  chain
<span class="token punctuation" _ngcontent-yix-c36="">}</span> <span class="token keyword" _ngcontent-yix-c36="">from</span> <span class="token string" _ngcontent-yix-c36="">'@angular-devkit/schematics'</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
<span class="token keyword" _ngcontent-yix-c36="">import</span> <span class="token punctuation" _ngcontent-yix-c36="">{</span>
  Schema <span class="token keyword" _ngcontent-yix-c36="">as</span> AngularNgNewSchema<span class="token punctuation" _ngcontent-yix-c36="">,</span>
  PackageManager<span class="token punctuation" _ngcontent-yix-c36="">,</span>
  Style
<span class="token punctuation" _ngcontent-yix-c36="">}</span> <span class="token keyword" _ngcontent-yix-c36="">from</span> <span class="token string" _ngcontent-yix-c36="">'@schematics/angular/ng-new/schema'</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
<span class="token keyword" _ngcontent-yix-c36="">import</span> <span class="token punctuation" _ngcontent-yix-c36="">{</span> spawn <span class="token punctuation" _ngcontent-yix-c36="">}</span> <span class="token keyword" _ngcontent-yix-c36="">from</span> <span class="token string" _ngcontent-yix-c36="">'child_process'</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>

<span class="token keyword" _ngcontent-yix-c36="">export</span> <span class="token keyword" _ngcontent-yix-c36="">function</span> <span class="token function" _ngcontent-yix-c36="">playground</span><span class="token punctuation" _ngcontent-yix-c36="">(</span>options<span class="token operator" _ngcontent-yix-c36="">:</span> AngularNgNewSchema<span class="token punctuation" _ngcontent-yix-c36="">)</span><span class="token operator" _ngcontent-yix-c36="">:</span> Rule <span class="token punctuation" _ngcontent-yix-c36="">{</span>
  <span class="token keyword" _ngcontent-yix-c36="">return</span> <span class="token keyword" _ngcontent-yix-c36="">async</span> <span class="token punctuation" _ngcontent-yix-c36="">(</span>_tree<span class="token operator" _ngcontent-yix-c36="">:</span> Tree<span class="token punctuation" _ngcontent-yix-c36="">,</span> _context<span class="token operator" _ngcontent-yix-c36="">:</span> SchematicContext<span class="token punctuation" _ngcontent-yix-c36="">)</span> <span class="token operator" _ngcontent-yix-c36="">=&gt;</span> <span class="token punctuation" _ngcontent-yix-c36="">{</span>
    <span class="token keyword" _ngcontent-yix-c36="">const</span> angularSchematicsPackage <span class="token operator" _ngcontent-yix-c36="">=</span> <span class="token string" _ngcontent-yix-c36="">'@schematics/angular'</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
    <span class="token keyword" _ngcontent-yix-c36="">const</span> ngNewOptions<span class="token operator" _ngcontent-yix-c36="">:</span> AngularNgNewSchema <span class="token operator" _ngcontent-yix-c36="">=</span> <span class="token punctuation" _ngcontent-yix-c36="">{</span>
      version<span class="token operator" _ngcontent-yix-c36="">:</span> <span class="token string" _ngcontent-yix-c36="">'12.0.0'</span><span class="token punctuation" _ngcontent-yix-c36="">,</span>
      name<span class="token operator" _ngcontent-yix-c36="">:</span> options<span class="token punctuation" _ngcontent-yix-c36="">.</span>name<span class="token punctuation" _ngcontent-yix-c36="">,</span>
      routing<span class="token operator" _ngcontent-yix-c36="">:</span> <span class="token boolean" _ngcontent-yix-c36="">true</span><span class="token punctuation" _ngcontent-yix-c36="">,</span>
      strict<span class="token operator" _ngcontent-yix-c36="">:</span> <span class="token boolean" _ngcontent-yix-c36="">true</span><span class="token punctuation" _ngcontent-yix-c36="">,</span>
      legacyBrowsers<span class="token operator" _ngcontent-yix-c36="">:</span> <span class="token boolean" _ngcontent-yix-c36="">true</span><span class="token punctuation" _ngcontent-yix-c36="">,</span>
      style<span class="token operator" _ngcontent-yix-c36="">:</span> Style<span class="token punctuation" _ngcontent-yix-c36="">.</span>Scss<span class="token punctuation" _ngcontent-yix-c36="">,</span>
      packageManager<span class="token operator" _ngcontent-yix-c36="">:</span> PackageManager<span class="token punctuation" _ngcontent-yix-c36="">.</span>Npm
    <span class="token punctuation" _ngcontent-yix-c36="">}</span>
    <span class="token keyword" _ngcontent-yix-c36="">await</span> <span class="token keyword" _ngcontent-yix-c36="">new</span> <span class="token class-name" _ngcontent-yix-c36=""><span class="token builtin" _ngcontent-yix-c36="">Promise</span><span class="token operator" _ngcontent-yix-c36="">&lt;</span><span class="token builtin" _ngcontent-yix-c36="">boolean</span><span class="token operator" _ngcontent-yix-c36="">&gt;</span></span><span class="token punctuation" _ngcontent-yix-c36="">(</span><span class="token punctuation" _ngcontent-yix-c36="">(</span>resolve<span class="token punctuation" _ngcontent-yix-c36="">)</span> <span class="token operator" _ngcontent-yix-c36="">=&gt;</span> <span class="token punctuation" _ngcontent-yix-c36="">{</span>
      <span class="token builtin" _ngcontent-yix-c36="">console</span><span class="token punctuation" _ngcontent-yix-c36="">.</span><span class="token function" _ngcontent-yix-c36="">log</span><span class="token punctuation" _ngcontent-yix-c36="">(</span><span class="token string" _ngcontent-yix-c36="">'📦 Installing packages...'</span><span class="token punctuation" _ngcontent-yix-c36="">)</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
      <span class="token function" _ngcontent-yix-c36="">spawn</span><span class="token punctuation" _ngcontent-yix-c36="">(</span><span class="token string" _ngcontent-yix-c36="">'npm'</span><span class="token punctuation" _ngcontent-yix-c36="">,</span> <span class="token punctuation" _ngcontent-yix-c36="">[</span><span class="token string" _ngcontent-yix-c36="">'install'</span><span class="token punctuation" _ngcontent-yix-c36="">,</span> angularSchematicsPackage<span class="token punctuation" _ngcontent-yix-c36="">]</span><span class="token punctuation" _ngcontent-yix-c36="">)</span>
        <span class="token punctuation" _ngcontent-yix-c36="">.</span><span class="token function" _ngcontent-yix-c36="">on</span><span class="token punctuation" _ngcontent-yix-c36="">(</span><span class="token string" _ngcontent-yix-c36="">'close'</span><span class="token punctuation" _ngcontent-yix-c36="">,</span> <span class="token punctuation" _ngcontent-yix-c36="">(</span>code<span class="token operator" _ngcontent-yix-c36="">:</span> <span class="token builtin" _ngcontent-yix-c36="">number</span><span class="token punctuation" _ngcontent-yix-c36="">)</span> <span class="token operator" _ngcontent-yix-c36="">=&gt;</span> <span class="token punctuation" _ngcontent-yix-c36="">{</span>
          <span class="token keyword" _ngcontent-yix-c36="">if</span> <span class="token punctuation" _ngcontent-yix-c36="">(</span>code <span class="token operator" _ngcontent-yix-c36="">===</span> <span class="token number" _ngcontent-yix-c36="">0</span><span class="token punctuation" _ngcontent-yix-c36="">)</span> <span class="token punctuation" _ngcontent-yix-c36="">{</span>
            <span class="token builtin" _ngcontent-yix-c36="">console</span><span class="token punctuation" _ngcontent-yix-c36="">.</span><span class="token function" _ngcontent-yix-c36="">log</span><span class="token punctuation" _ngcontent-yix-c36="">(</span><span class="token string" _ngcontent-yix-c36="">'📦 Packages installed successfully ✅'</span><span class="token punctuation" _ngcontent-yix-c36="">)</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
            <span class="token function" _ngcontent-yix-c36="">resolve</span><span class="token punctuation" _ngcontent-yix-c36="">(</span><span class="token boolean" _ngcontent-yix-c36="">true</span><span class="token punctuation" _ngcontent-yix-c36="">)</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
          <span class="token punctuation" _ngcontent-yix-c36="">}</span> <span class="token keyword" _ngcontent-yix-c36="">else</span> <span class="token punctuation" _ngcontent-yix-c36="">{</span>
            <span class="token keyword" _ngcontent-yix-c36="">throw</span> <span class="token keyword" _ngcontent-yix-c36="">new</span> <span class="token class-name" _ngcontent-yix-c36="">Error</span><span class="token punctuation" _ngcontent-yix-c36="">(</span>
              <span class="token template-string" _ngcontent-yix-c36=""><span class="token template-punctuation string" _ngcontent-yix-c36="">`</span><span class="token string" _ngcontent-yix-c36="">❌ install Angular schematics from '</span><span class="token interpolation" _ngcontent-yix-c36=""><span class="token interpolation-punctuation punctuation" _ngcontent-yix-c36="">${</span>angularSchematicsPackage<span class="token interpolation-punctuation punctuation" _ngcontent-yix-c36="">}</span></span><span class="token string" _ngcontent-yix-c36="">' failed</span><span class="token template-punctuation string" _ngcontent-yix-c36="">`</span></span>
            <span class="token punctuation" _ngcontent-yix-c36="">)</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
          <span class="token punctuation" _ngcontent-yix-c36="">}</span>
        <span class="token punctuation" _ngcontent-yix-c36="">}</span><span class="token punctuation" _ngcontent-yix-c36="">)</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
    <span class="token punctuation" _ngcontent-yix-c36="">}</span><span class="token punctuation" _ngcontent-yix-c36="">)</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
    <span class="token keyword" _ngcontent-yix-c36="">return</span> <span class="token function" _ngcontent-yix-c36="">chain</span><span class="token punctuation" _ngcontent-yix-c36="">(</span><span class="token punctuation" _ngcontent-yix-c36="">[</span>
      <span class="token function" _ngcontent-yix-c36="">externalSchematic</span><span class="token punctuation" _ngcontent-yix-c36="">(</span>angularSchematicsPackage<span class="token punctuation" _ngcontent-yix-c36="">,</span> <span class="token string" _ngcontent-yix-c36="">'ng-new'</span><span class="token punctuation" _ngcontent-yix-c36="">,</span> ngNewOptions<span class="token punctuation" _ngcontent-yix-c36="">)</span><span class="token punctuation" _ngcontent-yix-c36="">,</span>
      <span class="token function" _ngcontent-yix-c36="">schematic</span><span class="token punctuation" _ngcontent-yix-c36="">(</span><span class="token string" _ngcontent-yix-c36="">'ng-add'</span><span class="token punctuation" _ngcontent-yix-c36="">,</span> <span class="token punctuation" _ngcontent-yix-c36="">{</span><span class="token punctuation" _ngcontent-yix-c36="">}</span><span class="token punctuation" _ngcontent-yix-c36="">)</span>
    <span class="token punctuation" _ngcontent-yix-c36="">]</span><span class="token punctuation" _ngcontent-yix-c36="">)</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
  <span class="token punctuation" _ngcontent-yix-c36="">}</span><span class="token punctuation" _ngcontent-yix-c36="">;</span>
<span class="token punctuation" _ngcontent-yix-c36="">}</span></code></pre><p _ngcontent-yix-c36="">When we now run the <code _ngcontent-yix-c36="">ng new</code> Schematic from somewhere outside an Angular workspace, we can see that first of all the Angular <code _ngcontent-yix-c36="">ng new</code> Schematic is executed with our predefined settings. After this, the <code _ngcontent-yix-c36="">ng add</code> schematics is called.</p><pre class="language-bash" _ngcontent-yix-c36=""><code class="language-bash" _ngcontent-yix-c36="">schematics ./playground/src/collection.json:ng-new --debug=false
📦 Installing packages...
📦 Packages installed successfully ✅
? What name would you like to use for the new workspace and initial project? my-project
CREATE my-project/README.md (1027 bytes)
CREATE my-project/.editorconfig (274 bytes)
CREATE my-project/.gitignore (631 bytes)
CREATE my-project/angular.json (3812 bytes)
...
CREATE my-project/src/app/app.component.scss (0 bytes)
CREATE my-project/src/app/app.component.html (25757 bytes)
CREATE my-project/src/app/app.component.spec.ts (1069 bytes)
CREATE my-project/src/app/app.component.ts (215 bytes)
CREATE my-project/src/app/package.json (816 bytes)
CREATE my-project/e2e/protractor.conf.js (869 bytes)
CREATE my-project/e2e/tsconfig.json (294 bytes)
CREATE my-project/e2e/src/app.e2e-spec.ts (643 bytes)
CREATE my-project/e2e/src/app.po.ts (301 bytes)
⠏ Installing packages...
✔ Packages installed successfully.
schematic works</code></pre><p _ngcontent-yix-c36="">After you have deployed the Schematic, you can now execute it by running:</p><pre class="language-bash" _ngcontent-yix-c36=""><code class="language-bash" _ngcontent-yix-c36="">npm i -g my-schematic-package-name # install the Schematic so it's available globally
ng new my-app --collection=my-schematic-package-name # Run the Angular CLI's `ng new` Schematic with the defined collection</code></pre><p _ngcontent-yix-c36="">Similar to this example you can call the <code _ngcontent-yix-c36="">ng add</code> Schematic from the collection if you are in an existing Angular workspace:</p><pre class="language-bash" _ngcontent-yix-c36=""><code class="language-bash" _ngcontent-yix-c36="">ng add my-schematic-package-name</code></pre><ul _ngcontent-yix-c36=""><li _ngcontent-yix-c36=""><a href="https://github.com/d-koppenhagen/schematics-helpers-playground/tree/master/playground/src/ng-new" _ngcontent-yix-c36="" rel="noreferrer noopener">Check out the example in the playground repository on GitHub</a></li></ul><h2 id="conclusion" _ngcontent-yix-c36="">Conclusion</h2><p _ngcontent-yix-c36="">The presented util functions are great and comfortable helpers you can use to create your own Angular CLI schematics. However, as they aren't officially published until now, you should keep track of any changes by keeping an eye on the <a href="https://github.com/angular/angular-cli/issues/15335" _ngcontent-yix-c36="" rel="noreferrer noopener">documentation issue (#15335)</a> and <a href="https://github.com/angular/angular-cli/tree/master/packages/schematics/angular/utility" _ngcontent-yix-c36="" rel="noreferrer noopener">changes on the related code</a>.</p><h2 id="summary" _ngcontent-yix-c36="">Summary</h2><table _ngcontent-yix-c36=""><thead _ngcontent-yix-c36=""><tr _ngcontent-yix-c36=""><th _ngcontent-yix-c36="">Function</th><th _ngcontent-yix-c36="">Description</th></tr></thead><tbody _ngcontent-yix-c36=""><tr _ngcontent-yix-c36=""><td _ngcontent-yix-c36=""><code _ngcontent-yix-c36="">getPackageJsonDependency()</code></td><td _ngcontent-yix-c36="">Get a package configuration from the <code _ngcontent-yix-c36="">package.json</code> (dev-, peer-, optional-) dependencies config.</td></tr><tr _ngcontent-yix-c36=""><td _ngcontent-yix-c36=""><code _ngcontent-yix-c36="">addPackageJsonDependency()</code></td><td _ngcontent-yix-c36="">Add a NPM package to the <code _ngcontent-yix-c36="">package.json</code> as (dev-, peer-, optional-) dependency.</td></tr><tr _ngcontent-yix-c36=""><td _ngcontent-yix-c36=""><code _ngcontent-yix-c36="">removePackageJsonDependency()</code></td><td _ngcontent-yix-c36="">Remove a NPM package from the <code _ngcontent-yix-c36="">package.json</code> (dev-, peer-, optional-) dependencies.</td></tr><tr _ngcontent-yix-c36=""><td _ngcontent-yix-c36=""><code _ngcontent-yix-c36="">relativePathToWorkspaceRoot()</code></td><td _ngcontent-yix-c36="">Get the relative import path to the root of the workspace for a given file inside the workspace.</td></tr><tr _ngcontent-yix-c36=""><td _ngcontent-yix-c36=""><code _ngcontent-yix-c36="">insertImport()</code></td><td _ngcontent-yix-c36="">Insert an import statement for a file to an existing TypeScript file.</td></tr><tr _ngcontent-yix-c36=""><td _ngcontent-yix-c36=""><code _ngcontent-yix-c36="">addDeclarationToModule()</code></td><td _ngcontent-yix-c36="">Import a declaration (e.g. Component or Directive) and add it to the <code _ngcontent-yix-c36="">declarations</code> array of an Angular module.</td></tr><tr _ngcontent-yix-c36=""><td _ngcontent-yix-c36=""><code _ngcontent-yix-c36="">addImportToModule()</code></td><td _ngcontent-yix-c36="">Import an Angular Module and add it to the <code _ngcontent-yix-c36="">imports</code> array of another Angular module.</td></tr><tr _ngcontent-yix-c36=""><td _ngcontent-yix-c36=""><code _ngcontent-yix-c36="">addExportToModule()</code></td><td _ngcontent-yix-c36="">Import an Angular Module and add it to the <code _ngcontent-yix-c36="">exports</code> array of another Angular module.</td></tr><tr _ngcontent-yix-c36=""><td _ngcontent-yix-c36=""><code _ngcontent-yix-c36="">addProviderToModule()</code></td><td _ngcontent-yix-c36="">Import a service / provider and add it to the <code _ngcontent-yix-c36="">providers</code> array of an Angular module.</td></tr><tr _ngcontent-yix-c36=""><td _ngcontent-yix-c36=""><code _ngcontent-yix-c36="">addBootstrapToModule()</code></td><td _ngcontent-yix-c36="">Import a Component and add it to the <code _ngcontent-yix-c36="">bootstrap</code> array of an Angular module.</td></tr><tr _ngcontent-yix-c36=""><td _ngcontent-yix-c36=""><code _ngcontent-yix-c36="">addRouteDeclarationToModule()</code></td><td _ngcontent-yix-c36="">Add a route definition to the router configuration in an Angular routing module.</td></tr><tr _ngcontent-yix-c36=""><td _ngcontent-yix-c36=""><code _ngcontent-yix-c36="">getWorkspacePath()</code></td><td _ngcontent-yix-c36="">Retrieve the path to the Angular workspace configuration file (<code _ngcontent-yix-c36="">angular.json</code>).</td></tr><tr _ngcontent-yix-c36=""><td _ngcontent-yix-c36=""><code _ngcontent-yix-c36="">getWorkspace()</code></td><td _ngcontent-yix-c36="">Get the configuration object from the Angular workspace configuration file (<code _ngcontent-yix-c36="">angular.json</code>)</td></tr><tr _ngcontent-yix-c36=""><td _ngcontent-yix-c36=""><code _ngcontent-yix-c36="">createDefaultPath()</code></td><td _ngcontent-yix-c36="">Get the default application / library path for a project inside an Angular workspace.</td></tr></tbody></table><table _ngcontent-yix-c36=""><thead _ngcontent-yix-c36=""><tr _ngcontent-yix-c36=""><th _ngcontent-yix-c36="">Class</th><th _ngcontent-yix-c36="">Description</th></tr></thead><tbody _ngcontent-yix-c36=""><tr _ngcontent-yix-c36=""><td _ngcontent-yix-c36=""><code _ngcontent-yix-c36="">InsertChange</code></td><td _ngcontent-yix-c36="">This class returns a change object with the content to be added and the position where a change is being inserted.</td></tr><tr _ngcontent-yix-c36=""><td _ngcontent-yix-c36=""><code _ngcontent-yix-c36="">NodePackageInstallTask</code></td><td _ngcontent-yix-c36="">A task instance that will perform a <code _ngcontent-yix-c36="">npm install</code> once instantiated and added to the <code _ngcontent-yix-c36="">context</code> via <code _ngcontent-yix-c36="">addTask()</code>.</td></tr><tr _ngcontent-yix-c36=""><td _ngcontent-yix-c36=""><code _ngcontent-yix-c36="">RunSchematicTask</code></td><td _ngcontent-yix-c36="">A task that runs another schematic after instantiation and adding it to the <code _ngcontent-yix-c36="">context</code> via <code _ngcontent-yix-c36="">addTask()</code>.</td></tr></tbody></table><p _ngcontent-yix-c36=""><strong _ngcontent-yix-c36="">Thank you</strong></p><p _ngcontent-yix-c36="">Special thanks goes to <a href="https://twitter.com/mgechev" _ngcontent-yix-c36="" rel="noreferrer noopener">Minko Gechev</a>, <a href="https://twitter.com/tomastrajan" _ngcontent-yix-c36="" rel="noreferrer noopener">Tomas Trajan</a> and <a href="https://twitter.com/fmalcher01" _ngcontent-yix-c36="" rel="noreferrer noopener">Ferdinand Malcher</a> for the feedback and revising this article.</p><hr _ngcontent-yix-c36=""><!--scullyContent-end--><scully-content _ngcontent-yix-c36=""></scully-content><div _ngcontent-yix-c36="" class="edit-on-github"><a _ngcontent-yix-c36="" target="_blank" rel="noopener noreferrer" href="https://github.com/d-koppenhagen/k9n.dev/edit/master/blog/2020-09-angular-schematics-common-helpers.md">Found an error? Edit this page on Github</a></div><script>try{window.scullyContent={cssId:"_ngcontent-yix-c36",html:document.body.innerHTML.split("\x3c!--scullyContent-begin--\x3e")[1].split("\x3c!--scullyContent-end--\x3e")[0]}}catch(n){console.error("scully could not parse content")}</script></section><section _ngcontent-yix-c36="" class="blog-footer"><h2 _ngcontent-yix-c36="" class="sub-heading">Share this page</h2><div _ngcontent-yix-c36=""><share-buttons _ngcontent-yix-c36="" _nghost-yix-c35=""><div _ngcontent-yix-c35="" class="sb-circles-dark sb-group ng-star-inserted"><share-button _ngcontent-yix-c35="" _nghost-yix-c33="" class="sb-button sb-circles-dark ng-star-inserted"><button _ngcontent-yix-c33="" type="button" class="sb-wrapper sb-show-icon sb-copy" aria-label="Copy link" style="--button-color:#607D8B"><div _ngcontent-yix-c33="" class="sb-content ng-star-inserted"><div _ngcontent-yix-c33="" class="sb-icon ng-star-inserted"><fa-icon _ngcontent-yix-c33="" class="ng-fa-icon"><svg role="img" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="link" class="svg-inline--fa fa-link fa-w-16 fa-fw" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"></path></svg></fa-icon></div></div></button></share-button><share-button _ngcontent-yix-c35="" _nghost-yix-c33="" class="sb-button sb-circles-dark ng-star-inserted"><button _ngcontent-yix-c33="" type="button" class="sb-wrapper sb-show-icon sb-twitter" aria-label="Share on Twitter" style="--button-color:#00acee"><div _ngcontent-yix-c33="" class="sb-content ng-star-inserted"><div _ngcontent-yix-c33="" class="sb-icon ng-star-inserted"><fa-icon _ngcontent-yix-c33="" class="ng-fa-icon"><svg role="img" aria-hidden="true" focusable="false" data-prefix="fab" data-icon="twitter" class="svg-inline--fa fa-twitter fa-w-16 fa-fw" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg></fa-icon></div></div></button></share-button><share-button _ngcontent-yix-c35="" _nghost-yix-c33="" class="sb-button sb-circles-dark ng-star-inserted"><button _ngcontent-yix-c33="" type="button" class="sb-wrapper sb-show-icon sb-email" aria-label="Share link via email" style="--button-color:#FF961C"><div _ngcontent-yix-c33="" class="sb-content ng-star-inserted"><div _ngcontent-yix-c33="" class="sb-icon ng-star-inserted"><fa-icon _ngcontent-yix-c33="" class="ng-fa-icon"><svg role="img" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="envelope" class="svg-inline--fa fa-envelope fa-w-16 fa-fw" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"></path></svg></fa-icon></div></div></button></share-button><share-button _ngcontent-yix-c35="" _nghost-yix-c33="" class="sb-button sb-circles-dark ng-star-inserted"><button _ngcontent-yix-c33="" type="button" class="sb-wrapper sb-show-icon sb-whatsapp" aria-label="Share on WhatsApp" style="--button-color:#25D366"><div _ngcontent-yix-c33="" class="sb-content ng-star-inserted"><div _ngcontent-yix-c33="" class="sb-icon ng-star-inserted"><fa-icon _ngcontent-yix-c33="" class="ng-fa-icon"><svg role="img" aria-hidden="true" focusable="false" data-prefix="fab" data-icon="whatsapp" class="svg-inline--fa fa-whatsapp fa-w-14 fa-fw" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"></path></svg></fa-icon></div></div></button></share-button><share-button _ngcontent-yix-c35="" _nghost-yix-c33="" class="sb-button sb-circles-dark ng-star-inserted"><button _ngcontent-yix-c33="" type="button" class="sb-wrapper sb-show-icon sb-facebook" aria-label="Share on Facebook" style="--button-color:#4267B2"><div _ngcontent-yix-c33="" class="sb-content ng-star-inserted"><div _ngcontent-yix-c33="" class="sb-icon ng-star-inserted"><fa-icon _ngcontent-yix-c33="" class="ng-fa-icon"><svg role="img" aria-hidden="true" focusable="false" data-prefix="fab" data-icon="facebook-f" class="svg-inline--fa fa-facebook-f fa-w-10 fa-fw" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"></path></svg></fa-icon></div></div></button></share-button><expand-button _ngcontent-yix-c35="" _nghost-yix-c34="" class="sb-button sb-circles-dark ng-star-inserted" style="--button-color:#FF6651"><button _ngcontent-yix-c34="" class="sb-wrapper sb-expand sb-show-icon" aria-label="Show more share buttons"><div _ngcontent-yix-c34="" class="sb-content"><div _ngcontent-yix-c34="" class="sb-icon"><fa-icon _ngcontent-yix-c34="" class="ng-fa-icon"><svg role="img" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="ellipsis-h" class="svg-inline--fa fa-ellipsis-h fa-w-16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"></path></svg></fa-icon></div></div></button></expand-button></div></share-buttons></div></section></div></article></dk-blog-content><dk-contact _ngcontent-yix-c28="" class="ng-tns-c28-0" _nghost-yix-c21=""><footer _ngcontent-yix-c21="" id="footer" class="ng-star-inserted"><div _ngcontent-yix-c21="" id="contact" class="inner"><h2 _ngcontent-yix-c21="" class="major">Contact me</h2><p _ngcontent-yix-c21="">Any questions or suggestions? Get in contact with me!</p><ul _ngcontent-yix-c21="" class="contact"><li _ngcontent-yix-c21="" class="icon solid fa-envelope"><a _ngcontent-yix-c21="" href="mailto:mail@k9n.dev">mail@k9n.dev</a></li><li _ngcontent-yix-c21="" class="icon solid fa-phone"><a _ngcontent-yix-c21="" href="tel:+4915129134704">+49 (0)151 29134704</a></li><li _ngcontent-yix-c21="" class="icon brands fa-github"><a _ngcontent-yix-c21="" href="https://github.com/d-koppenhagen" rel="noreferrer noopener">github.com/d-koppenhagen</a></li><li _ngcontent-yix-c21="" class="icon brands fa-twitter"><a _ngcontent-yix-c21="" href="https://twitter.com/d_koppenhagen" rel="noreferrer noopener">twitter.com/d_koppenhagen</a></li><li _ngcontent-yix-c21="" class="icon brands fa-linkedin"><a _ngcontent-yix-c21="" href="https://www.linkedin.com/in/d-koppenhagen/" rel="noreferrer noopener">linkedin.com/in/d-koppenhagen</a></li><li _ngcontent-yix-c21="" class="icon brands fa-xing"><a _ngcontent-yix-c21="" href="https://www.xing.com/profile/Danny_Koppenhagen" rel="noreferrer noopener">xing.com/profile/Danny_Koppenhagen</a></li></ul><ul _ngcontent-yix-c21="" class="copyright"><li _ngcontent-yix-c21="">© 2020 by Danny Koppenhagen</li><li _ngcontent-yix-c21="">Design: <a _ngcontent-yix-c21="" href="https://html5up.net" rel="noreferrer noopener">HTML5 UP</a></li><li _ngcontent-yix-c21="">Suggestions? Feedback? Bugs? <a _ngcontent-yix-c21="" href="https://github.com/d-koppenhagen/k9n.dev/issues" rel="noreferrer noopener">Create an issue</a>, <a _ngcontent-yix-c21="" href="https://github.com/d-koppenhagen/k9n.dev/pulls" rel="noreferrer noopener">send me a PR</a> or <a _ngcontent-yix-c21="" href="#contact">contact me</a>.</li></ul></div></footer></dk-contact><dk-cookie-banner _ngcontent-yix-c28="" _nghost-yix-c27="" class="ng-tns-c28-0 ng-trigger ng-trigger-fadeInOut ng-star-inserted"><div _ngcontent-yix-c27="" id="cookie-banner" class="ng-star-inserted"><span _ngcontent-yix-c27="" class="banner-text">🍪 This website uses cookies to ensure you get the best experience on the site.</span><button _ngcontent-yix-c27="" class="button small">Got it!</button></div></dk-cookie-banner></dk-root><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date)</script><noscript>Please enable JavaScript to continue using this application.</noscript><script id="ScullyIO-transfer-state"></script><script src="runtime.4a18ec410fe558bc.js" type="module"></script><script src="polyfills.cb21f570ab1bea7e.js" type="module"></script><script src="main.aff03d459460e804.js" type="module"></script></body></html>